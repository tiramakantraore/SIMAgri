(function(e){var t="remote-pagination-initialized";var n="remote-pagination-updatedOptions";var r="remote-pagination";var i="data-remote-pagination-status";var s="remote-pagination-semaphore";e.fn.remoteNonStopPageScroll=function(n){var r=e(this);if(r.data(t)!=true){r.data(t,true);var i=e.extend(e.fn.remoteNonStopPageScroll.defaults,n);var s=i.scrollTarget;if(s==null){s=r}i.scrollTarget=s;return r.each(function(){e.fn.remoteNonStopPageScroll.init(r,i)})}};e.fn.remoteNonStopPageScroll.init=function(t,i){i=e.extend(i,t.data(n)||{});var o=i.scrollTarget;t.data(r,"enabled").data(s,true);e(o).scroll(function(n){if(t.data(r)=="enabled"){e.fn.remoteNonStopPageScroll.loadContent(t,i)}else{n.stopPropagation()}});e.fn.remoteNonStopPageScroll.loadContent(t,i)};e.fn.stopRemotePaginateOnScroll=function(){return this.each(function(){e(this).data(r,"disabled")})};e.fn.remoteNonStopPageScroll.loadContent=function(t,r){r=e.extend(r,t.data(n)||{});var o=e(r.scrollTarget);var u=o.height()+o.scrollTop()+r.heightOffset>=e(document).height();if(u&&t.data(s)){e.fn.remoteNonStopPageScroll.loadingHTML(t,r,true);if(r.onLoading!=null){r.onLoading()}t.children().attr(i,"loaded");e.fn.remoteNonStopPageScroll.setSemaphore(t,false);e.ajax({type:"POST",url:r.url,data:{},success:function(n){var s=o.scrollTop();t.append(n);o.scrollTop(s-1);var u=t.children("["+i+"!=loaded]");if(r.onSuccess!=null){r.onSuccess(u)}e.fn.remoteNonStopPageScroll.setSemaphore(t,true)},failure:function(n){if(r.onFailure!=null){r.onFailure()}e.fn.remoteNonStopPageScroll.setSemaphore(t,true)},complete:function(n){e.fn.remoteNonStopPageScroll.loadingHTML(t,r,false);if(r.onComplete!=null){r.onComplete()}},dataType:"html"})}};e.fn.remoteNonStopPageScroll.loadingHTML=function(t,n,r){var i=n.loadingHTML;if(i!=null){if(r){var s=e("#"+i).clone().wrap("<p>").parent().html();t.append("<span class='paginationLoadingSpan'>"+s+"</span>").find("#"+i).show()}else{t.find(".paginationLoadingSpan").remove()}}};e.fn.remoteNonStopPageScroll.setSemaphore=function(e,t){e.data(s,t)};e.fn.remoteNonStopPageScroll.defaults={url:null,onLoading:null,onSuccess:null,onFailure:null,onComplete:null,scrollTarget:null,heightOffset:0,loadingHTML:null}})(jQuery)