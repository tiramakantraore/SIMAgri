(function(){function e(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function t(){var e,t=arguments.length,n={},r=function(e,t){var n,i;for(i in t)t.hasOwnProperty(i)&&(n=t[i],typeof e!=="object"&&(e={}),e[i]=n&&typeof n==="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&typeof n.nodeType!=="number"?r(e[i]||{},n):t[i]);return e};for(e=0;e<t;e++)n=r(n,arguments[e]);return n}function n(){for(var e=0,t=arguments,n=t.length,r={};e<n;e++)r[t[e++]]=t[e];return r}function r(e,t){return parseInt(e,t||10)}function i(e){return typeof e==="string"}function s(e){return typeof e==="object"}function o(e){return Object.prototype.toString.call(e)==="[object Array]"}function u(e){return typeof e==="number"}function a(e){return K.log(e)/K.LN10}function f(e){return K.pow(10,e)}function l(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function c(e){return e!==V&&e!==null}function h(e,t,n){var r,o;if(i(t))c(n)?e.setAttribute(t,n):e&&e.getAttribute&&(o=e.getAttribute(t));else if(c(t)&&s(t))for(r in t)e.setAttribute(r,t[r]);return o}function p(e){return o(e)?e:[e]}function d(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++)if(n=e[t],typeof n!=="undefined"&&n!==null)return n}function v(t,n){if(at&&n&&n.opacity!==V)n.filter="alpha(opacity="+n.opacity*100+")";e(t.style,n)}function m(t,n,r,i,s){t=$.createElement(t);n&&e(t,n);s&&v(t,{padding:0,border:Ot,margin:0});r&&v(t,r);i&&i.appendChild(t);return t}function g(t,n){var r=function(){};r.prototype=new t;e(r.prototype,n);return r}function y(e,t,n,i){var s=St.lang,o=t===-1?((e||0).toString().split(".")[1]||"").length:isNaN(t=tt(t))?2:t,t=n===void 0?s.decimalPoint:n,i=i===void 0?s.thousandsSep:i,s=e<0?"-":"",n=String(r(e=tt(+e||0).toFixed(o))),u=n.length>3?n.length%3:0;return s+(u?n.substr(0,u)+i:"")+n.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+i)+(o?t+tt(e-n).toFixed(o).slice(2):"")}function b(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function w(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);e.unshift(r);return n.apply(this,e)}}function E(e,t){for(var n="{",r=!1,i,s,o,u,a,f=[];(n=e.indexOf(n))!==-1;){i=e.slice(0,n);if(r){s=i.split(":");o=s.shift().split(".");a=o.length;i=t;for(u=0;u<a;u++)i=i[o[u]];if(s.length)s=s.join(":"),o=/\.([0-9])/,u=St.lang,a=void 0,/f$/.test(s)?(a=(a=s.match(o))?a[1]:-1,i=y(i,a,u.decimalPoint,s.indexOf(",")>-1?u.thousandsSep:"")):i=xt(s,i)}f.push(i);e=e.slice(n+1);n=(r=!r)?"}":"{"}f.push(e);return f.join("")}function S(e,t,n,r){var i,n=d(n,1);i=e/n;t||(t=[1,2,2.5,5,10],r&&r.allowDecimals===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(r=0;r<t.length;r++)if(e=t[r],i<=(t[r]+(t[r+1]||t[r]))/2)break;e*=n;return e}function x(e,t){var n=t||[[_t,[1,2,5,10,20,25,50,100,200,500]],[Dt,[1,2,5,10,15,30]],[Pt,[1,2,5,10,15,30]],[Ht,[1,2,3,4,6,8,12]],[Bt,[1,2]],[jt,[1,2]],[Ft,[1,2,3,4,6]],[It,null]],r=n[n.length-1],i=Ct[r[0]],s=r[1],o;for(o=0;o<n.length;o++)if(r=n[o],i=Ct[r[0]],s=r[1],n[o+1]&&e<=(i*s[s.length-1]+Ct[n[o+1][0]])/2)break;i===Ct[It]&&e<5*i&&(s=[1,2,5]);i===Ct[It]&&e<5*i&&(s=[1,2,5]);n=S(e/i,s);return{unitRange:i,count:n,unitName:r[0]}}function T(t,n,r,i){var s=[],o={},u=St.global.useUTC,a,f=new Date(n),l=t.unitRange,h=t.count;if(c(n)){l>=Ct[Dt]&&(f.setMilliseconds(0),f.setSeconds(l>=Ct[Pt]?0:h*G(f.getSeconds()/h)));if(l>=Ct[Pt])f[Jt](l>=Ct[Ht]?0:h*G(f[Ut]()/h));if(l>=Ct[Ht])f[Kt](l>=Ct[Bt]?0:h*G(f[zt]()/h));if(l>=Ct[Bt])f[Qt](l>=Ct[Ft]?1:h*G(f[Xt]()/h));l>=Ct[Ft]&&(f[Gt](l>=Ct[It]?0:h*G(f[Vt]()/h)),a=f[$t]());l>=Ct[It]&&(a-=a%h,f[Yt](a));if(l===Ct[jt])f[Qt](f[Xt]()-f[Wt]()+d(i,1));n=1;a=f[$t]();for(var i=f.getTime(),p=f[Vt](),v=f[Xt](),f=u?0:(864e5+f.getTimezoneOffset()*6e4)%864e5;i<r;)s.push(i),l===Ct[It]?i=Rt(a+n*h,0):l===Ct[Ft]?i=Rt(a,p+n*h):!u&&(l===Ct[Bt]||l===Ct[jt])?i=Rt(a,p,v+n*h*(l===Ct[Bt]?1:7)):(l<=Ct[Ht]&&i%Ct[Bt]===f&&(o[i]=Bt),i+=l*h),n++;s.push(i)}s.info=e(t,{higherRanks:o,totalRange:l*h});return s}function N(){this.symbol=this.color=0}function C(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){r=t(e,n);return r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function k(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function L(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function A(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function O(e){Et||(Et=m(At));e&&Et.appendChild(e);Et.innerHTML=""}function M(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;else J.console&&console.log(n)}function _(e){return parseFloat(e.toPrecision(14))}function D(e,t){Tt=d(e,t.animation)}function P(){var e=St.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";Rt=e?Date.UTC:function(e,t,n,r,i,s){return(new Date(e,t,d(n,1),d(r,0),d(i,0),d(s,0))).getTime()};Ut=t+"Minutes";zt=t+"Hours";Wt=t+"Day";Xt=t+"Date";Vt=t+"Month";$t=t+"FullYear";Jt=n+"Minutes";Kt=n+"Hours";Qt=n+"Date";Gt=n+"Month";Yt=n+"FullYear"}function H(){}function B(e,t,n,r){this.axis=e;this.pos=t;this.type=n||"";this.isNew=!0;!n&&!r&&this.addLabel()}function j(e,t){this.axis=e;if(t)this.options=t,this.id=t.id}function F(e,t,n,r,i,s){var o=e.chart.inverted;this.axis=e;this.isNegative=n;this.options=t;this.x=r;this.stack=i;this.percent=s==="percent";this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:d(t.y,o?4:n?14:-6),x:d(t.x,o?n?-6:6:0)};this.textAlign=t.textAlign||(o?n?"right":"left":"center")}function I(){this.init.apply(this,arguments)}function q(){this.init.apply(this,arguments)}function R(e,t){this.init(e,t)}function U(e,t){this.init(e,t)}function z(){this.init.apply(this,arguments)}function W(e){var t=e.options,n=t.navigator,r=n.enabled,t=t.scrollbar,i=t.enabled,s=r?n.height:0,o=i?t.height:0,u=n.baseSeries;this.baseSeries=e.series[u]||typeof u==="string"&&e.get(u)||e.series[0];this.handles=[];this.scrollbarButtons=[];this.elementsToDestroy=[];this.chart=e;this.height=s;this.scrollbarHeight=o;this.scrollbarEnabled=i;this.navigatorEnabled=r;this.navigatorOptions=n;this.scrollbarOptions=t;this.outlineHeight=s+o;this.init()}function X(e){this.init(e)}var V,$=document,J=window,K=Math,Q=K.round,G=K.floor,Y=K.ceil,Z=K.max,et=K.min,tt=K.abs,nt=K.cos,rt=K.sin,it=K.PI,st=it*2/360,ot=navigator.userAgent,ut=J.opera,at=/msie/i.test(ot)&&!ut,ft=$.documentMode===8,lt=/AppleWebKit/.test(ot),ct=/Firefox/.test(ot),ht=/(Mobile|Android|Windows Phone)/.test(ot),pt="http://www.w3.org/2000/svg",dt=!!$.createElementNS&&!!$.createElementNS(pt,"svg").createSVGRect,vt=ct&&parseInt(ot.split("Firefox/")[1],10)<4,mt=!dt&&!at&&!!$.createElement("canvas").getContext,gt,yt=$.documentElement.ontouchstart!==V,bt={},wt=0,Et,St,xt,Tt,Nt,Ct,kt=function(){},Lt=[],At="div",Ot="none",Mt="rgba(192,192,192,"+(dt?1e-4:.002)+")",_t="millisecond",Dt="second",Pt="minute",Ht="hour",Bt="day",jt="week",Ft="month",It="year",qt="stroke-width",Rt,Ut,zt,Wt,Xt,Vt,$t,Jt,Kt,Qt,Gt,Yt,Zt={};J.Highcharts=J.Highcharts?M(16,!0):{};xt=function(t,n,r){if(!c(n)||isNaN(n))return"Invalid date";var t=d(t,"%Y-%m-%d %H:%M:%S"),i=new Date(n),s,o=i[zt](),u=i[Wt](),a=i[Xt](),f=i[Vt](),l=i[$t](),h=St.lang,p=h.weekdays,i=e({a:p[u].substr(0,3),A:p[u],d:b(a),e:a,b:h.shortMonths[f],B:h.months[f],m:b(f+1),y:l.toString().substr(2,2),Y:l,H:b(o),I:b(o%12||12),l:o%12||12,M:b(i[Ut]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:b(i.getSeconds()),L:b(Q(n%1e3),3)},Highcharts.dateFormats);for(s in i)for(;t.indexOf("%"+s)!==-1;)t=t.replace("%"+s,typeof i[s]==="function"?i[s](n):i[s]);return r?t.substr(0,1).toUpperCase()+t.substr(1):t};N.prototype={wrapColor:function(e){if(this.color>=e)this.color=0},wrapSymbol:function(e){if(this.symbol>=e)this.symbol=0}};Ct=n(_t,1,Dt,1e3,Pt,6e4,Ht,36e5,Bt,864e5,jt,6048e5,Ft,26784e5,It,31556952e3);Nt={init:function(e,t,n){var t=t||"",r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,t=t.split(" "),n=[].concat(n),u,a,f=function(e){for(o=e.length;o--;)e[o]==="M"&&e.splice(o+1,0,e[o+1],e[o+2],e[o+1],e[o+2])};i&&(f(t),f(n));e.isArea&&(u=t.splice(t.length-6,6),a=n.splice(n.length-6,6));if(r<=n.length/s)for(;r--;)n=[].concat(n).splice(0,s).concat(n);e.shift=0;if(t.length)for(e=n.length;t.length<e;)r=[].concat(t).splice(t.length-s,s),i&&(r[s-6]=r[s-2],r[s-5]=r[s-1]),t=t.concat(r);u&&(t=t.concat(u),n=n.concat(a));return[t,n]},step:function(e,t,n,r){var i=[],s=e.length;if(n===1)i=r;else if(s===t.length&&n<1)for(;s--;)r=parseFloat(e[s]),i[s]=isNaN(r)?e[s]:n*parseFloat(t[s]-r)+r;else i=t;return i}};(function(t){J.HighchartsAdapter=J.HighchartsAdapter||t&&{init:function(e){var n=t.fx,r=n.step,s,o=t.Tween,u=o&&o.propHooks;t.extend(t.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}});t.each(["cur","_default","width","height","opacity"],function(e,t){var i=r,s,a;t==="cur"?i=n.prototype:t==="_default"&&o&&(i=u[t],t="set");(s=i[t])&&(i[t]=function(n){n=e?n:this;a=n.elem;return a.attr?a.attr(n.prop,t==="cur"?V:n.now):s.apply(this,arguments)})});s=function(t){var n=t.elem,r;if(!t.started)r=e.init(n,n.d,n.toD),t.start=r[0],t.end=r[1],t.started=!0;n.attr("d",e.step(t.start,t.end,t.pos,n.toD))};o?u.d={set:s}:r.d=s;this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n};t.fn.highcharts=function(){var e="Chart",t=arguments,n,r;i(t[0])&&(e=t[0],t=Array.prototype.slice.call(t,1));n=t[0];if(n!==V)n.chart=n.chart||{},n.chart.renderTo=this[0],new Highcharts[e](n,t[1]),r=this;n===V&&(r=Lt[h(this[0],"data-highcharts-chart")]);return r}},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,n){return t(e)[n]()},grep:t.grep,map:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(e){return t(e).offset()},addEvent:function(e,n,r){t(e).bind(n,r)},removeEvent:function(e,n,r){var i=$.removeEventListener?"removeEventListener":"detachEvent";$[i]&&e&&!e[i]&&(e[i]=function(){});t(e).unbind(n,r)},fireEvent:function(n,r,i,s){var o=t.Event(r),u="detached"+r,a;!at&&i&&(delete i.layerX,delete i.layerY);e(o,i);n[r]&&(n[u]=n[r],n[r]=null);t.each(["preventDefault","stopPropagation"],function(e,t){var n=o[t];o[t]=function(){try{n.call(o)}catch(e){t==="preventDefault"&&(a=!0)}}});t(n).trigger(o);n[u]&&(n[r]=n[u],n[u]=null);s&&!o.isDefaultPrevented()&&!a&&s(o)},washMouseEvent:function(e){var t=e.originalEvent||e;if(t.pageX===V)t.pageX=e.pageX,t.pageY=e.pageY;return t},animate:function(e,n,r){var i=t(e);if(n.d)e.toD=n.d,n.d=1;i.stop();n.opacity!==V&&e.attr&&(n.opacity+="px");i.animate(n,r)},stop:function(e){t(e).stop()}}})(J.jQuery);var en=J.HighchartsAdapter,tn=en||{};en&&en.init.call(en,Nt);var nn=tn.adapterRun,rn=tn.getScript,sn=tn.inArray,on=tn.each,un=tn.grep,an=tn.offset,fn=tn.map,ln=tn.addEvent,cn=tn.removeEvent,hn=tn.fireEvent,pn=tn.washMouseEvent,dn=tn.animate,vn=tn.stop,tn={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};St={colors:"#2f7ed8,#0d233a,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#a6c96a".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/1.3.1/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/1.3.1/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:t(tn,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:dt,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:ht?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var mn=St.plotOptions,en=mn.line;P();var gn=function(e){var n=[],i,s;(function(e){e&&e.stops?s=fn(e.stops,function(e){return gn(e[1])}):(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e))?n=[r(i[1]),r(i[2]),r(i[3]),parseFloat(i[4],10)]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?n=[r(i[1],16),r(i[2],16),r(i[3],16),1]:(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))&&(n=[r(i[1]),r(i[2]),r(i[3]),1])})(e);return{get:function(r){var i;s?(i=t(e),i.stops=[].concat(i.stops),on(s,function(e,t){i.stops[t]=[i.stops[t][0],e.get(r)]})):i=n&&!isNaN(n[0])?r==="rgb"?"rgb("+n[0]+","+n[1]+","+n[2]+")":r==="a"?n[3]:"rgba("+n.join(",")+")":e;return i},brighten:function(e){if(s)on(s,function(t){t.brighten(e)});else if(u(e)&&e!==0){var t;for(t=0;t<3;t++)n[t]+=r(e*255),n[t]<0&&(n[t]=0),n[t]>255&&(n[t]=255)}return this},rgba:n,setOpacity:function(e){n[3]=e;return this}}};H.prototype={init:function(e,t){this.element=t==="span"?m(t):$.createElementNS(pt,t);this.renderer=e;this.attrSetters={}},opacity:1,animate:function(e,n,r){n=d(n,Tt,!0);vn(this);if(n){n=t(n);if(r)n.complete=r;dn(this,e,n)}else this.attr(e),r&&r()},attr:function(e,t){var n,s,o,u,a=this.element,f=a.nodeName.toLowerCase(),l=this.renderer,p,d=this.attrSetters,v=this.shadows,m,g,y=this;i(e)&&c(t)&&(n=e,e={},e[n]=t);if(i(e))n=e,f==="circle"?n={x:"cx",y:"cy"}[n]||n:n==="strokeWidth"&&(n="stroke-width"),y=h(a,n)||this[n]||0,n!=="d"&&n!=="visibility"&&(y=parseFloat(y));else{for(n in e)if(p=!1,s=e[n],o=d[n]&&d[n].call(this,s,n),o!==!1){o!==V&&(s=o);if(n==="d")s&&s.join&&(s=s.join(" ")),/(NaN| {2}|^$)/.test(s)&&(s="M 0 0");else if(n==="x"&&f==="text")for(o=0;o<a.childNodes.length;o++)u=a.childNodes[o],h(u,"x")===h(a,"x")&&h(u,"x",s);else if(this.rotation&&(n==="x"||n==="y"))g=!0;else if(n==="fill")s=l.color(s,a,n);else if(f==="circle"&&(n==="x"||n==="y"))n={x:"cx",y:"cy"}[n]||n;else if(f==="rect"&&n==="r")h(a,{rx:s,ry:s}),p=!0;else if(n==="translateX"||n==="translateY"||n==="rotation"||n==="verticalAlign"||n==="scaleX"||n==="scaleY")p=g=!0;else if(n==="stroke")s=l.color(s,a,n);else if(n==="dashstyle")if(n="stroke-dasharray",s=s&&s.toLowerCase(),s==="solid")s=Ot;else{if(s){s=s.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(o=s.length;o--;)s[o]=r(s[o])*e["stroke-width"];s=s.join(",")}}else if(n==="width")s=r(s);else if(n==="align")n="text-anchor",s={left:"start",center:"middle",right:"end"}[s];else if(n==="title")o=a.getElementsByTagName("title")[0],o||(o=$.createElementNS(pt,"title"),a.appendChild(o)),o.textContent=s;n==="strokeWidth"&&(n="stroke-width");if(n==="stroke-width"||n==="stroke"){this[n]=s;if(this.stroke&&this["stroke-width"])h(a,"stroke",this.stroke),h(a,"stroke-width",this["stroke-width"]),this.hasStroke=!0;else if(n==="stroke-width"&&s===0&&this.hasStroke)a.removeAttribute("stroke"),this.hasStroke=!1;p=!0}this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(m||(this.symbolAttr(e),m=!0),p=!0);if(v&&/^(width|height|visibility|x|y|d|transform)$/.test(n))for(o=v.length;o--;)h(v[o],n,n==="height"?Z(s-(v[o].cutHeight||0),0):s);if((n==="width"||n==="height")&&f==="rect"&&s<0)s=0;this[n]=s;n==="text"?(s!==this.textStr&&delete this.bBox,this.textStr=s,this.added&&l.buildText(this)):p||h(a,n,s)}g&&this.updateTransform()}return y},addClass:function(e){h(this.element,"class",h(this.element,"class")+" "+e);return this},symbolAttr:function(e){var t=this;on("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(n){t[n]=d(e[n],t[n])});t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Ot)},crisp:function(e,t,n,r,i){var s,o={},u={},a,e=e||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;a=Q(e)%2/2;u.x=G(t||this.x||0)+a;u.y=G(n||this.y||0)+a;u.width=G((r||this.width||0)-2*a);u.height=G((i||this.height||0)-2*a);u.strokeWidth=e;for(s in u)this[s]!==u[s]&&(this[s]=o[s]=u[s]);return o},css:function(t){var n=this.element,n=t&&t.width&&n.nodeName.toLowerCase()==="text",r,i="",s=function(e,t){return"-"+t.toLowerCase()};if(t&&t.color)t.fill=t.color;this.styles=t=e(this.styles,t);mt&&n&&delete t.width;if(at&&!dt)n&&delete t.width,v(this.element,t);else{for(r in t)i+=r.replace(/([A-Z])/g,s)+":"+t[r]+";";this.attr({style:i})}n&&this.added&&this.renderer.buildText(this);return this},on:function(e,t){if(yt&&e==="click")this.element.ontouchstart=function(e){e.preventDefault();t()};this.element["on"+e]=t;return this},setRadialReference:function(e){this.element.radialReference=e;return this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){this.inverted=!0;this.updateTransform();return this},htmlCss:function(t){var n=this.element;if(n=t&&n.tagName==="SPAN"&&t.width)delete t.width,this.textWidth=n,this.updateTransform();this.styles=e(this.styles,t);v(this.element,t);return this},htmlGetBBox:function(){var e=this.element,t=this.bBox;if(!t){if(e.nodeName==="text")e.style.position="absolute";t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}return t},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,n=this.translateX||0,i=this.translateY||0,s=this.x||0,o=this.y||0,u=this.textAlign||"left",a={left:0,center:.5,right:1}[u],f=u&&u!=="left",l=this.shadows;if(n||i)v(t,{marginLeft:n,marginTop:i}),l&&on(l,function(e){v(e,{marginLeft:n+1,marginTop:i+1})});this.inverted&&on(t.childNodes,function(n){e.invertChild(n,t)});if(t.tagName==="SPAN"){var h,p,l=this.rotation,m,g=0,y=1,g=0,b;m=r(this.textWidth);var w=this.xCorr||0,E=this.yCorr||0,S=[l,u,t.innerHTML,this.textWidth].join(",");h={};if(S!==this.cTT){if(c(l))e.isSVG?(w=at?"-ms-transform":lt?"-webkit-transform":ct?"MozTransform":ut?"-o-transform":"",h[w]=h.transform="rotate("+l+"deg)"):(g=l*st,y=nt(g),g=rt(g),h.filter=l?["progid:DXImageTransform.Microsoft.Matrix(M11=",y,", M12=",-g,", M21=",g,", M22=",y,", sizingMethod='auto expand')"].join(""):Ot),v(t,h);h=d(this.elemWidth,t.offsetWidth);p=d(this.elemHeight,t.offsetHeight);if(h>m&&/[ \-]/.test(t.textContent||t.innerText))v(t,{width:m+"px",display:"block",whiteSpace:"normal"}),h=m;m=e.fontMetrics(t.style.fontSize).b;w=y<0&&-h;E=g<0&&-p;b=y*g<0;w+=g*m*(b?1-a:a);E-=y*m*(l?b?a:1-a:1);f&&(w-=h*a*(y<0?-1:1),l&&(E-=p*a*(g<0?-1:1)),v(t,{textAlign:u}));this.xCorr=w;this.yCorr=E}v(t,{left:s+w+"px",top:o+E+"px"});if(lt)p=t.offsetHeight;this.cTT=S}}else this.alignOnAdd=!0},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,r=this.scaleY,i=this.inverted,s=this.rotation,o=[];i&&(e+=this.attr("width"),t+=this.attr("height"));(e||t)&&o.push("translate("+e+","+t+")");i?o.push("rotate(90) scale(-1,1)"):s&&o.push("rotate("+s+" "+(this.x||0)+" "+(this.y||0)+")");(c(n)||c(r))&&o.push("scale("+d(n,1)+" "+d(r,1)+")");o.length&&h(this.element,"transform",o.join(" "))},toFront:function(){var e=this.element;e.parentNode.appendChild(e);return this},align:function(e,t,n){var r,s,o,u,a={};s=this.renderer;o=s.alignedObjects;if(e){if(this.alignOptions=e,this.alignByTranslate=t,!n||i(n))this.alignTo=r=n||"renderer",l(o,this),o.push(this),n=null}else e=this.alignOptions,t=this.alignByTranslate,r=this.alignTo;n=d(n,s[r],s);r=e.align;s=e.verticalAlign;o=(n.x||0)+(e.x||0);u=(n.y||0)+(e.y||0);if(r==="right"||r==="center")o+=(n.width-(e.width||0))/{right:1,center:2}[r];a[t?"translateX":"x"]=Q(o);if(s==="bottom"||s==="middle")u+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1);a[t?"translateY":"y"]=Q(u);this[this.placed?"animate":"attr"](a);this.placed=!0;this.alignAttr=a;return this},getBBox:function(){var t=this.bBox,n=this.renderer,r,i=this.rotation;r=this.element;var s=this.styles,o=i*st;if(!t){if(r.namespaceURI===pt||n.forExport){try{t=r.getBBox?e({},r.getBBox()):{width:r.offsetWidth,height:r.offsetHeight}}catch(u){}if(!t||t.width<0)t={width:0,height:0}}else t=this.htmlGetBBox();if(n.isSVG){n=t.width;r=t.height;if(at&&s&&s.fontSize==="11px"&&r.toPrecision(3)==="22.7")t.height=r=14;if(i)t.width=tt(r*rt(o))+tt(n*nt(o)),t.height=tt(r*nt(o))+tt(n*rt(o))}this.bBox=t}return t},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.hide()}})},add:function(e){var t=this.renderer,n=e||t,i=n.element||t.box,s=i.childNodes,o=this.element,u=h(o,"zIndex"),a;if(e)this.parentGroup=e;this.parentInverted=e&&e.inverted;this.textStr!==void 0&&t.buildText(this);if(u)n.handleZ=!0,u=r(u);if(n.handleZ)for(n=0;n<s.length;n++)if(e=s[n],t=h(e,"zIndex"),e!==o&&(r(t)>u||!c(u)&&c(t))){i.insertBefore(o,e);a=!0;break}a||i.appendChild(o);this.added=!0;hn(this,"add");return this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r,i;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null;vn(e);if(e.clipPath)e.clipPath=e.clipPath.destroy();if(e.stops){for(i=0;i<e.stops.length;i++)e.stops[i]=e.stops[i].destroy();e.stops=null}e.safeRemoveChild(t);n&&on(n,function(t){e.safeRemoveChild(t)});e.alignTo&&l(e.renderer.alignedObjects,e);for(r in e)delete e[r];return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,u,a,f,l;if(e){a=d(e.width,3);f=(e.opacity||.15)/a;l=this.parentInverted?"(-1,-1)":"("+d(e.offsetX,1)+", "+d(e.offsetY,1)+")";for(i=1;i<=a;i++){s=o.cloneNode(0);u=a*2+1-2*i;h(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":f*i,"stroke-width":u,transform:"translate"+l,fill:Ot});if(n)h(s,"height",Z(h(s,"height")-u,0)),s.cutHeight=u;t?t.element.appendChild(s):o.parentNode.insertBefore(s,o);r.push(s)}this.shadows=r}return this}};var yn=function(){this.init.apply(this,arguments)};yn.prototype={Element:H,init:function(e,t,n,r){var i=location,s;s=this.createElement("svg").attr({xmlns:pt,version:"1.1"});e.appendChild(s.element);this.isSVG=!0;this.box=s.element;this.boxWrapper=s;this.alignedObjects=[];this.url=(ct||lt)&&$.getElementsByTagName("base").length?i.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild($.createTextNode("Created with Highstock 1.3.1"));this.defs=this.createElement("defs").add();this.forExport=r;this.gradients={};this.setSize(t,n,!1);var o;if(ct&&e.getBoundingClientRect)this.subPixelFix=t=function(){v(e,{left:0,top:0});o=e.getBoundingClientRect();v(e,{left:Y(o.left)-o.left+"px",top:Y(o.top)-o.top+"px"})},t(),ln(J,"resize",t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();A(this.gradients||{});this.gradients=null;if(e)this.defs=e.destroy();this.subPixelFix&&cn(J,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(e){var t=new this.Element;t.init(this,e);return t},draw:function(){},buildText:function(e){for(var t=e.element,n=this,i=n.forExport,s=d(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),o=t.childNodes,u=/style="([^"]+)"/,a=/href="([^"]+)"/,f=h(t,"x"),l=e.styles,c=l&&l.width&&r(l.width),p=l&&l.lineHeight,m=o.length;m--;)t.removeChild(o[m]);c&&!e.added&&this.box.appendChild(t);s[s.length-1]===""&&s.pop();on(s,function(r,s){var o,d=0,r=r.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");o=r.split("|||");on(o,function(r){if(r!==""||o.length===1){var m={},g=$.createElementNS(pt,"tspan"),y;u.test(r)&&(y=r.match(u)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),h(g,"style",y));a.test(r)&&!i&&(h(g,"onclick",'location.href="'+r.match(a)[1]+'"'),v(g,{cursor:"pointer"}));r=(r.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");g.appendChild($.createTextNode(r));d?m.dx=0:m.x=f;h(g,m);!d&&s&&(!dt&&i&&v(g,{display:"block"}),h(g,"dy",p||n.fontMetrics(/px$/.test(g.style.fontSize)?g.style.fontSize:l.fontSize).h,lt&&g.offsetHeight));t.appendChild(g);d++;if(c)for(var r=r.replace(/([^\^])-/g,"$1- ").split(" "),b,w=[];r.length||w.length;)delete e.bBox,b=e.getBBox().width,m=b>c,!m||r.length===1?(r=w,w=[],r.length&&(g=$.createElementNS(pt,"tspan"),h(g,{dy:p||16,x:f}),y&&h(g,"style",y),t.appendChild(g),b>c&&(c=b))):(g.removeChild(g.firstChild),w.unshift(r.pop())),r.length&&g.appendChild($.createTextNode(r.join(" ").replace(/- /g,"-")))}})})},button:function(n,r,i,s,o,u,a){var f=this.label(n,r,i,null,null,null,null,null,"button"),l=0,c,h,p,d,v,n={x1:0,y1:0,x2:0,y2:1},o=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:n,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);p=o.style;delete o.style;u=t(o,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#FFF"],[1,"#ACF"]]}},u);d=u.style;delete u.style;a=t(o,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#9BD"],[1,"#CDF"]]}},a);v=a.style;delete a.style;ln(f.element,"mouseenter",function(){f.attr(u).css(d)});ln(f.element,"mouseleave",function(){c=[o,u,a][l];h=[p,d,v][l];f.attr(c).css(h)});f.setState=function(e){(l=e)?e===2&&f.attr(a).css(v):f.attr(o).css(p)};return f.on("click",function(){s.call(f)}).attr(o).css(e({cursor:"default"},p))},crispLine:function(e,t){e[1]===e[4]&&(e[1]=e[4]=Q(e[1])-t%2/2);e[2]===e[5]&&(e[2]=e[5]=Q(e[2])+t%2/2);return e},path:function(t){var n={fill:Ot};o(t)?n.d=t:s(t)&&e(n,t);return this.createElement("path").attr(n)},circle:function(e,t,n){e=s(e)?e:{x:e,y:t,r:n};return this.createElement("circle").attr(e)},arc:function(e,t,n,r,i,o){if(s(e))t=e.y,n=e.r,r=e.innerR,i=e.start,o=e.end,e=e.x;return this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:i||0,end:o||0})},rect:function(e,t,n,r,i,o){i=s(e)?e.r:i;i=this.createElement("rect").attr({rx:i,ry:i,fill:Ot});return i.attr(s(e)?e:i.crisp(o,e,t,Z(n,0),Z(r,0)))},setSize:function(e,t,n){var r=this.alignedObjects,i=r.length;this.width=e;this.height=t;for(this.boxWrapper[d(n,!0)?"animate":"attr"]({width:e,height:t});i--;)r[i].align()},g:function(e){var t=this.createElement("g");return c(e)?t.attr({"class":"highcharts-"+e}):t},image:function(t,n,r,i,s){var o={preserveAspectRatio:Ot};arguments.length>1&&e(o,{x:n,y:r,width:i,height:s});o=this.createElement("image").attr(o);o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t);return o},symbol:function(t,n,r,i,s,o){var u,a=this.symbols[t],a=a&&a(Q(n),Q(r),i,s,o),f=/^url\((.*?)\)$/,l,c;if(a)u=this.path(a),e(u,{symbolName:t,x:n,y:r,width:i,height:s}),o&&e(u,o);else if(f.test(t))c=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(Q((i-t[0])/2),Q((s-t[1])/2)))},l=t.match(f)[1],t=bt[l],u=this.image(l).attr({x:n,y:r}),u.isImg=!0,t?c(u,t):(u.attr({width:0,height:0}),m("img",{onload:function(){c(u,bt[l]=[this.width,this.height])},src:l}));return u},symbols:{circle:function(e,t,n,r){var i=.166*n;return["M",e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,n=i.r||n||r,o=i.end-.001,r=i.innerR,u=i.open,a=nt(s),f=rt(s),l=nt(o),o=rt(o),i=i.end-s<it?0:1;return["M",e+n*a,t+n*f,"A",n,n,0,i,1,e+n*l,t+n*o,u?"M":"L",e+r*l,t+r*o,"A",r,r,0,i,0,e+r*a,t+r*f,u?"":"Z"]}},clipRect:function(e,t,n,r){var i="highcharts-"+wt++,s=this.createElement("clipPath").attr({id:i}).add(this.defs),e=this.rect(e,t,n,r,0).add(s);e.id=i;e.clipPath=s;return e},color:function(e,n,r){var i=this,s,u=/^rgba/,a,f,l,p,d,v,m,g=[];e&&e.linearGradient?a="linearGradient":e&&e.radialGradient&&(a="radialGradient");if(a){r=e[a];f=i.gradients;p=e.stops;n=n.radialReference;o(r)&&(e[a]=r={x1:r[0],y1:r[1],x2:r[2],y2:r[3],gradientUnits:"userSpaceOnUse"});a==="radialGradient"&&n&&!c(r.gradientUnits)&&(r=t(r,{cx:n[0]-n[2]/2+r.cx*n[2],cy:n[1]-n[2]/2+r.cy*n[2],r:r.r*n[2],gradientUnits:"userSpaceOnUse"}));for(m in r)m!=="id"&&g.push(m,r[m]);for(m in p)g.push(p[m]);g=g.join(",");f[g]?e=f[g].id:(r.id=e="highcharts-"+wt++,f[g]=l=i.createElement(a).attr(r).add(i.defs),l.stops=[],on(p,function(e){u.test(e[1])?(s=gn(e[1]),d=s.get("rgb"),v=s.get("a")):(d=e[1],v=1);e=i.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":v}).add(l);l.stops.push(e)}));return"url("+i.url+"#"+e+")"}else return u.test(e)?(s=gn(e),h(n,r+"-opacity",s.get("a")),s.get("rgb")):(n.removeAttribute(r+"-opacity"),e)},text:function(e,t,n,r){var i=St.chart.style,s=mt||!dt&&this.forExport;if(r&&!this.forExport)return this.html(e,t,n);t=Q(d(t,0));n=Q(d(n,0));e=this.createElement("text").attr({x:t,y:n,text:e}).css({fontFamily:i.fontFamily,fontSize:i.fontSize});s&&e.css({position:"absolute"});e.x=t;e.y=n;return e},html:function(t,n,r){var i=St.chart.style,s=this.createElement("span"),o=s.attrSetters,u=s.element,a=s.renderer;o.text=function(e){e!==u.innerHTML&&delete this.bBox;u.innerHTML=e;return!1};o.x=o.y=o.align=function(e,t){t==="align"&&(t="textAlign");s[t]=e;s.htmlUpdateTransform();return!1};s.attr({text:t,x:Q(n),y:Q(r)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:i.fontFamily,fontSize:i.fontSize});s.css=s.htmlCss;if(a.isSVG)s.add=function(t){var n,r=a.box.parentNode,i=[];if(t){if(n=t.div,!n){for(;t;)i.push(t),t=t.parentGroup;on(i.reverse(),function(t){var i;n=t.div=t.div||m(At,{className:h(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},n||r);i=n.style;e(t.attrSetters,{translateX:function(e){i.left=e+"px"},translateY:function(e){i.top=e+"px"},visibility:function(e,t){i[t]=e}})})}}else n=r;n.appendChild(u);s.added=!0;s.alignOnAdd&&s.htmlUpdateTransform();return s};return s},fontMetrics:function(e){var e=r(e||11),e=e<24?e+4:Q(e*1.2),t=Q(e*.8);return{h:e,b:t}},label:function(n,r,i,s,o,u,a,f,l){function h(){var e,n;e=y.element.style;w=(T===void 0||N===void 0||g.styles.textAlign)&&y.getBBox();g.width=(T||w.width||0)+2*S+x;g.height=(N||w.height||0)+2*S;O=S+m.fontMetrics(e&&e.fontSize).b;if(M){if(!b)e=Q(-E*S),n=f?-O:0,g.box=b=s?m.symbol(s,e,n,g.width,g.height):m.rect(e,n,g.width,g.height,0,A[qt]),b.add(g);b.isImg||b.attr(t({width:g.width,height:g.height},A));A=null}}function p(){var e=g.styles,e=e&&e.textAlign,t=x+S*(1-E),n;n=f?0:O;if(c(T)&&(e==="center"||e==="right"))t+={center:.5,right:1}[e]*(T-w.width);(t!==y.x||n!==y.y)&&y.attr({x:t,y:n});y.x=t;y.y=n}function d(e,t){b?b.attr(e,t):A[e]=t}function v(){y.add(g);g.attr({text:n,x:r,y:i});b&&c(o)&&g.attr({anchorX:o,anchorY:u})}var m=this,g=m.g(l),y=m.text("",0,0,a).attr({zIndex:1}),b,w,E=0,S=3,x=0,T,N,C,k,L=0,A={},O,a=g.attrSetters,M;ln(g,"add",v);a.width=function(e){T=e;return!1};a.height=function(e){N=e;return!1};a.padding=function(e){c(e)&&e!==S&&(S=e,p());return!1};a.paddingLeft=function(e){c(e)&&e!==x&&(x=e,p());return!1};a.align=function(e){E={left:0,center:.5,right:1}[e];return!1};a.text=function(e,t){y.attr(t,e);h();p();return!1};a[qt]=function(e,t){M=!0;L=e%2/2;d(t,e);return!1};a.stroke=a.fill=a.r=function(e,t){t==="fill"&&(M=!0);d(t,e);return!1};a.anchorX=function(e,t){o=e;d(t,e+L-C);return!1};a.anchorY=function(e,t){u=e;d(t,e-k);return!1};a.x=function(e){g.x=e;e-=E*((T||w.width)+S);C=Q(e);g.attr("translateX",C);return!1};a.y=function(e){k=g.y=Q(e);g.attr("translateY",k);return!1};var _=g.css;return e(g,{css:function(e){if(e){var n={},e=t(e);on("fontSize,fontWeight,fontFamily,color,lineHeight,width".split(","),function(t){e[t]!==V&&(n[t]=e[t],delete e[t])});y.css(n)}return _.call(g,e)},getBBox:function(){return{width:w.width+2*S,height:w.height+2*S,x:w.x-S,y:w.y-S}},shadow:function(e){b&&b.shadow(e);return g},destroy:function(){cn(g,"add",v);cn(g.element,"mouseenter");cn(g.element,"mouseleave");y&&(y=y.destroy());b&&(b=b.destroy());H.prototype.destroy.call(g);g=m=h=p=d=v=null}})}};gt=yn;var bn,wn;if(!dt&&!mt)Highcharts.VMLElement=wn={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"],i=t===At;(t==="shape"||i)&&r.push("left:0;top:0;width:1px;height:1px;");r.push("visibility: ",i?"hidden":"visible");n.push(' style="',r.join(""),'"/>');if(t)n=i||t==="span"||t==="img"?n.join(""):e.prepVML(n),this.element=m(n);this.renderer=e;this.attrSetters={}},add:function(e){var t=this.renderer,n=this.element,r=t.box,r=e?e.element||e:r;e&&e.inverted&&t.invertChild(n,r);r.appendChild(n);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();hn(this,"add");return this},updateTransform:H.prototype.htmlUpdateTransform,attr:function(e,t){var n,r,s,o=this.element||{},a=o.style,f=o.nodeName,l=this.renderer,p=this.symbolName,d,v=this.shadows,g,y=this.attrSetters,b=this;i(e)&&c(t)&&(n=e,e={},e[n]=t);if(i(e))n=e,b=n==="strokeWidth"||n==="stroke-width"?this.strokeweight:this[n];else for(n in e)if(r=e[n],g=!1,s=y[n]&&y[n].call(this,r,n),s!==!1&&r!==null){s!==V&&(r=s);if(p&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(n))d||(this.symbolAttr(e),d=!0),g=!0;else if(n==="d"){r=r||[];this.d=r.join(" ");s=r.length;g=[];for(var w;s--;)if(u(r[s]))g[s]=Q(r[s]*10)-5;else if(r[s]==="Z")g[s]="x";else if(g[s]=r[s],r.isArc&&(r[s]==="wa"||r[s]==="at"))w=r[s]==="wa"?1:-1,g[s+5]===g[s+7]&&(g[s+7]-=w),g[s+6]===g[s+8]&&(g[s+8]-=w);r=g.join(" ")||"x";o.path=r;if(v)for(s=v.length;s--;)v[s].path=v[s].cutOff?this.cutOffPath(r,v[s].cutOff):r;g=!0}else if(n==="visibility"){if(v)for(s=v.length;s--;)v[s].style[n]=r;f==="DIV"&&(r=r==="hidden"?"-999em":0,ft||(a[n]=r?"visible":"hidden"),n="top");a[n]=r;g=!0}else if(n==="zIndex")r&&(a[n]=r),g=!0;else if(sn(n,["x","y","width","height"])!==-1)this[n]=r,n==="x"||n==="y"?n={x:"left",y:"top"}[n]:r=Z(0,r),this.updateClipping?(this[n]=r,this.updateClipping()):a[n]=r,g=!0;else if(n==="class"&&f==="DIV")o.className=r;else if(n==="stroke")r=l.color(r,o,n),n="strokecolor";else if(n==="stroke-width"||n==="strokeWidth")o.stroked=r?!0:!1,n="strokeweight",this[n]=r,u(r)&&(r+="px");else if(n==="dashstyle")(o.getElementsByTagName("stroke")[0]||m(l.prepVML(["<stroke/>"]),null,null,o))[n]=r||"solid",this.dashstyle=r,g=!0;else if(n==="fill")if(f==="SPAN")a.color=r;else{if(f!=="IMG")o.filled=r!==Ot?!0:!1,r=l.color(r,o,n,this),n="fillcolor"}else if(n==="opacity")g=!0;else if(f==="shape"&&n==="rotation")this[n]=r,o.style.left=-Q(rt(r*st)+1)+"px",o.style.top=Q(nt(r*st))+"px";else if(n==="translateX"||n==="translateY"||n==="rotation")this[n]=r,this.updateTransform(),g=!0;else if(n==="text")this.bBox=null,o.innerHTML=r,g=!0;g||(ft?o[n]=r:h(o,n,r))}return b},clip:function(e){var t=this,n;e?(n=e.members,l(n,t),n.push(t),t.destroyClip=function(){l(n,t)},e=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),e={clip:ft?"inherit":"rect(auto)"});return t.css(e)},css:H.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&O(e)},destroy:function(){this.destroyClip&&this.destroyClip();return H.prototype.destroy.apply(this)},on:function(e,t){this.element["on"+e]=function(){var e=J.event;e.target=e.srcElement;t(e)};return this},cutOffPath:function(e,t){var n,e=e.split(/[ ,]/);n=e.length;if(n===9||n===11)e[n-4]=e[n-2]=r(e[n-2])-10*t;return e.join(" ")},shadow:function(e,t,n){var i=[],s,o=this.element,u=this.renderer,a,f=o.style,l,c=o.path,h,p,v,g;c&&typeof c.value!=="string"&&(c="x");p=c;if(e){v=d(e.width,3);g=(e.opacity||.15)/v;for(s=1;s<=3;s++){h=v*2+1-2*s;n&&(p=this.cutOffPath(c.value,h+.5));l=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',p,'" coordsize="10 10" style="',o.style.cssText,'" />'];a=m(u.prepVML(l),null,{left:r(f.left)+d(e.offsetX,1),top:r(f.top)+d(e.offsetY,1)});if(n)a.cutOff=h+1;l=['<stroke color="',e.color||"black",'" opacity="',g*s,'"/>'];m(u.prepVML(l),null,null,a);t?t.element.appendChild(a):o.parentNode.insertBefore(a,o);i.push(a)}this.shadows=i}return this}},wn=g(H,wn),wn={Element:wn,isIE8:ot.indexOf("MSIE 8.0")>-1,init:function(e,t,n){var r,i;this.alignedObjects=[];r=this.createElement(At);i=r.element;i.style.position="relative";e.appendChild(r.element);this.isVML=!0;this.box=i;this.boxWrapper=r;this.setSize(t,n,!1);if(!$.namespaces.hcv)$.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),$.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,n,r,i){var o=this.createElement(),u=s(t);return e(o,{members:[],left:u?t.x:t,top:u?t.y:n,width:u?t.width:r,height:u?t.height:i,getCSS:function(t){var n=t.element,r=n.nodeName,t=t.inverted,i=this.top-(r==="shape"?n.offsetTop:0),s=this.left,n=s+this.width,o=i+this.height,i={clip:"rect("+Q(t?s:i)+"px,"+Q(t?o:n)+"px,"+Q(t?n:o)+"px,"+Q(t?i:s)+"px)"};!t&&ft&&r==="DIV"&&e(i,{width:n+"px",height:o+"px"});return i},updateClipping:function(){on(o.members,function(e){e.css(o.getCSS(e))})}})},color:function(e,t,n,r){var i=this,s,o=/^rgba/,u,a,f=Ot;e&&e.linearGradient?a="gradient":e&&e.radialGradient&&(a="pattern");if(a){var l,c,h=e.linearGradient||e.radialGradient,p,d,v,g,y,b="",e=e.stops,w,E=[],S=function(){u=['<fill colors="'+E.join(",")+'" opacity="',v,'" o:opacity2="',d,'" type="',a,'" ',b,'focus="100%" method="any" />'];m(i.prepVML(u),null,null,t)};p=e[0];w=e[e.length-1];p[0]>0&&e.unshift([0,p[1]]);w[0]<1&&e.push([1,w[1]]);on(e,function(e,t){o.test(e[1])?(s=gn(e[1]),l=s.get("rgb"),c=s.get("a")):(l=e[1],c=1);E.push(e[0]*100+"% "+l);t?(v=c,g=l):(d=c,y=l)});if(n==="fill")if(a==="gradient")n=h.x1||h[0]||0,e=h.y1||h[1]||0,p=h.x2||h[2]||0,h=h.y2||h[3]||0,b='angle="'+(90-K.atan((h-e)/(p-n))*180/it)+'"',S();else{var f=h.r,x=f*2,T=f*2,N=h.cx,C=h.cy,k=t.radialReference,L,f=function(){k&&(L=r.getBBox(),N+=(k[0]-L.x)/L.width-.5,C+=(k[1]-L.y)/L.height-.5,x*=k[2]/L.width,T*=k[2]/L.height);b='src="'+St.global.VMLRadialGradientURL+'" size="'+x+","+T+'" origin="0.5,0.5" position="'+N+","+C+'" color2="'+y+'" ';S()};r.added?f():ln(r,"add",f);f=g}else f=l}else if(o.test(e)&&t.tagName!=="IMG")s=gn(e),u=["<",n,' opacity="',s.get("a"),'"/>'],m(this.prepVML(u),null,null,t),f=s.get("rgb");else{f=t.getElementsByTagName(n);if(f.length)f[0].opacity=1,f[0].type="solid";f=e}return f},prepVML:function(e){var t=this.isIE8,e=e.join("");t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=e.indexOf('style="')===-1?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:");return e},text:yn.prototype.html,path:function(t){var n={coordsize:"10 10"};o(t)?n.d=t:s(t)&&e(n,t);return this.createElement("shape").attr(n)},circle:function(e,t,n){if(s(e))n=e.r,t=e.y,e=e.x;return this.symbol("circle").attr({x:e-n,y:t-n,width:2*n,height:2*n})},g:function(e){var t;e&&(t={className:"highcharts-"+e,"class":"highcharts-"+e});return this.createElement(At).attr(t)},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});arguments.length>1&&s.attr({x:t,y:n,width:r,height:i});return s},rect:function(e,t,n,r,i,o){if(s(e))t=e.y,n=e.width,r=e.height,o=e.strokeWidth,e=e.x;var u=this.symbol("rect");u.r=i;return u.attr(u.crisp(o,e,t,Z(n,0),Z(r,0)))},invertChild:function(e,t){var n=t.style;v(e,{flip:"x",left:r(n.width)-1,top:r(n.height)-1,rotation:-90})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,n=i.innerR,r=nt(s),a=rt(s),f=nt(o),l=rt(o);if(o-s===0)return["x"];s=["wa",e-u,t-u,e+u,t+u,e+u*r,t+u*a,e+u*f,t+u*l];i.open&&!n&&s.push("e","M",e,t);s.push("at",e-n,t-n,e+n,t+n,e+n*f,t+n*l,e+n*r,t+n*a,"x","e");s.isArc=!0;return s},circle:function(e,t,n,r){return["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){var s=e+n,o=t+r,u;!c(i)||!i.r?s=yn.prototype.symbols.square.apply(0,arguments):(u=et(i.r,n,r),s=["M",e+u,t,"L",s-u,t,"wa",s-2*u,t,s,t+2*u,s-u,t,s,t+u,"L",s,o-u,"wa",s-2*u,o-2*u,s,o,s,o-u,s-u,o,"L",e+u,o,"wa",e,o-2*u,e+2*u,o,e+u,o,e,o-u,"L",e,t+u,"wa",e,t,e+2*u,t+2*u,e,t+u,e+u,t,"x","e"]);return s}}},Highcharts.VMLRenderer=bn=function(){this.init.apply(this,arguments)},bn.prototype=t(yn.prototype,wn),gt=bn;var En;if(mt)Highcharts.CanVGRenderer=wn=function(){pt="http://www.w3.org/1999/xhtml"},wn.prototype.symbols={},En=function(){function e(){var e=t.length,n;for(n=0;n<e;n++)t[n]();t=[]}var t=[];return{push:function(n,r){t.length===0&&rn(r,e);t.push(n)}}}(),gt=wn;B.prototype={addLabel:function(){var t=this.axis,n=t.options,r=t.chart,i=t.horiz,s=t.categories,o=t.series[0]&&t.series[0].names,a=this.pos,l=n.labels,h=t.tickPositions,i=i&&s&&!l.step&&!l.staggerLines&&!l.rotation&&r.plotWidth/h.length||!i&&(r.optionsMarginLeft||r.plotWidth/2),p=a===h[0],v=a===h[h.length-1],o=s?d(s[a],o&&o[a],a):a,s=this.label,h=h.info,m;t.isDatetimeAxis&&h&&(m=n.dateTimeLabelFormats[h.higherRanks[a]||h.unitName]);this.isFirst=p;this.isLast=v;n=t.labelFormatter.call({axis:t,chart:r,isFirst:p,isLast:v,dateTimeLabelFormat:m,value:t.isLog?_(f(o)):o});a=i&&{width:Z(1,Q(i-2*(l.padding||10)))+"px"};a=e(a,l.style);if(c(s))s&&s.attr({text:n}).css(a);else{i={align:l.align};if(u(l.rotation))i.rotation=l.rotation;this.label=c(n)&&l.enabled?r.renderer.text(n,0,0,l.useHTML).attr(i).css(a).add(t.labelGroup):null}},getLabelSize:function(){var e=this.label,t=this.axis;return e?(this.labelBBox=e.getBBox())[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.axis.options.labels,t=this.labelBBox.width,e=t*{left:0,center:.5,right:1}[e.align]-e.x;return[-e,t-e]},handleOverflow:function(e,t){var n=!0,r=this.axis,i=r.chart,s=this.isFirst,o=this.isLast,u=t.x,a=r.reversed,f=r.tickPositions;if(s||o){var l=this.getLabelSides(),c=l[0],l=l[1],i=i.plotLeft,h=i+r.len,f=(r=r.ticks[f[e+(s?1:-1)]])&&r.label.xy&&r.label.xy.x+r.getLabelSides()[s?0:1];s&&!a||o&&a?u+c<i&&(u=i-c,r&&u+l>f&&(n=!1)):u+l>h&&(u=h-l,r&&u+c<f&&(n=!1));t.x=u}return n},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,i,s,o,u,a){var f=this.axis,l=f.transA,h=f.reversed,f=f.staggerLines,e=e+s.x-(o&&i?o*l*(h?-1:1):0),t=t+s.y-(o&&!i?o*l*(h?1:-1):0);c(s.y)||(t+=r(n.styles.lineHeight)*.9-n.getBBox().height/2);f&&(t+=u/(a||1)%f*16);return{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine(["M",e,t,"L",e+(i?0:-n),t+(i?n:0)],r)},render:function(e,t,n){var r=this.axis,i=r.options,s=r.chart.renderer,o=r.horiz,u=this.type,a=this.label,f=this.pos,l=i.labels,c=this.gridLine,h=u?u+"Grid":"grid",p=u?u+"Tick":"tick",v=i[h+"LineWidth"],m=i[h+"LineColor"],g=i[h+"LineDashStyle"],y=i[p+"Length"],h=i[p+"Width"]||0,b=i[p+"Color"],w=i[p+"Position"],p=this.mark,E=l.step,S=!0,x=r.tickmarkOffset,T=this.getPosition(o,f,x,t),N=T.x,T=T.y,C=o&&N===r.pos||!o&&T===r.pos+r.len?-1:1,k=r.staggerLines;this.isActive=!0;if(v){f=r.getPlotLinePath(f+x,v*C,t,!0);if(c===V){c={stroke:m,"stroke-width":v};if(g)c.dashstyle=g;if(!u)c.zIndex=1;if(t)c.opacity=0;this.gridLine=c=v?s.path(f).attr(c).add(r.gridGroup):null}if(!t&&c&&f)c[this.isNew?"attr":"animate"]({d:f,opacity:n})}if(h&&y)w==="inside"&&(y=-y),r.opposite&&(y=-y),t=this.getMarkPath(N,T,y,h*C,o,s),p?p.animate({d:t,opacity:n}):this.mark=s.path(t).attr({stroke:b,"stroke-width":h,opacity:n}).add(r.axisGroup);if(a&&!isNaN(N))a.xy=T=this.getLabelPosition(N,T,a,o,l,x,e,E),this.isFirst&&!d(i.showFirstLabel,1)||this.isLast&&!d(i.showLastLabel,1)?S=!1:!k&&o&&l.overflow==="justify"&&!this.handleOverflow(e,T)&&(S=!1),E&&e%E&&(S=!1),S&&!isNaN(T.y)?(T.opacity=n,a[this.isNew?"attr":"animate"](T),this.isNew=!1):a.attr("y",-9999)},destroy:function(){A(this,this.axis)}};j.prototype={render:function(){var e=this,n=e.axis,r=n.horiz,i=(n.pointRange||0)/2,s=e.options,o=s.label,u=e.label,f=s.width,l=s.to,h=s.from,p=c(h)&&c(l),v=s.value,m=s.dashStyle,g=e.svgElem,y=[],b,w=s.color,E=s.zIndex,S=s.events,x=n.chart.renderer;n.isLog&&(h=a(h),l=a(l),v=a(v));if(f){if(y=n.getPlotLinePath(v,f),i={stroke:w,"stroke-width":f},m)i.dashstyle=m}else if(p){if(h=Z(h,n.min-i),l=et(l,n.max+i),y=n.getPlotBandPath(h,l,s),i={fill:w},s.borderWidth)i.stroke=s.borderColor,i["stroke-width"]=s.borderWidth}else return;if(c(E))i.zIndex=E;if(g)y?g.animate({d:y},null,g.onGetPath):(g.hide(),g.onGetPath=function(){g.show()});else if(y&&y.length&&(e.svgElem=g=x.path(y).attr(i).add(),S))for(b in s=function(t){g.on(t,function(n){S[t].apply(e,[n])})},S)s(b);if(o&&c(o.text)&&y&&y.length&&n.width>0&&n.height>0){o=t({align:r&&p&&"center",x:r?!p&&4:10,verticalAlign:!r&&p&&"middle",y:r?p?16:10:p?6:-4,rotation:r&&!p&&90},o);if(!u)e.label=u=x.text(o.text,0,0).attr({align:o.textAlign||o.align,rotation:o.rotation,zIndex:E}).css(o.style).add();n=[y[1],y[4],d(y[6],y[1])];y=[y[2],y[5],d(y[7],y[2])];r=k(n);p=k(y);u.align(o,!1,{x:r,y:p,width:L(n)-r,height:L(y)-p});u.show()}else u&&u.hide();return e},destroy:function(){l(this.axis.plotLinesAndBands,this);A(this,this.axis)}};F.prototype={destroy:function(){A(this,this.axis)},setTotal:function(e){this.cum=this.total=e},render:function(e){var t=this.options,n=t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,0,0,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,r=n.chart,i=r.inverted,s=this.isNegative,o=n.translate(this.percent?100:this.total,0,0,0,1),n=n.translate(0),n=tt(o-n),u=r.xAxis[0].translate(this.x)+e,a=r.plotHeight,s={x:i?s?o:o-n:u,y:i?a-u-t:s?a-o-n:a-o,width:i?n:t,height:i?t:n};if(i=this.label)i.align(this.alignOptions,null,s),s=i.alignAttr,i.attr({visibility:this.options.crop===!1||r.isInsidePlot(s.x,s.y)?dt?"inherit":"visible":"hidden"})}};I.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:tn,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:tn.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(e,t){var n=t.isX;this.horiz=e.inverted?!n:n;this.xOrY=(this.isXAxis=n)?"x":"y";this.opposite=t.opposite;this.side=this.horiz?this.opposite?0:2:this.opposite?1:3;this.setOptions(t);var r=this.options,i=r.type;this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter;this.staggerLines=this.horiz&&r.labels.staggerLines;this.userOptions=t;this.minPixelPadding=0;this.chart=e;this.reversed=r.reversed;this.zoomEnabled=r.zoomEnabled!==!1;this.categories=r.categories||i==="category";this.isLog=i==="logarithmic";this.isDatetimeAxis=i==="datetime";this.isLinked=c(r.linkedTo);this.tickmarkOffset=this.categories&&r.tickmarkPlacement==="between"?.5:0;this.ticks={};this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=r.minRange||r.maxZoom;this.range=r.range;this.offset=r.offset||0;this.stacks={};this._stacksTouched=0;this.min=this.max=null;var s,r=this.options.events;sn(this,e.axes)===-1&&(e.axes.push(this),e[n?"xAxis":"yAxis"].push(this));this.series=this.series||[];if(e.inverted&&n&&this.reversed===V)this.reversed=!0;this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(s in r)ln(this,s,r[s]);if(this.isLog)this.val2lin=a,this.lin2val=f},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(St[this.isXAxis?"xAxis":"yAxis"],e))},update:function(e,n){var r=this.chart,e=r.options[this.xOrY+"Axis"][this.options.index]=t(this.userOptions,e);this.destroy();this._addedPlotLB=!1;this.init(r,e);r.isDirtyBox=!0;d(n,!0)&&r.redraw()},remove:function(e){var t=this.chart,n=this.xOrY+"Axis";on(this.series,function(e){e.remove(!1)});l(t.axes,this);l(t[n],this);t.options[n].splice(this.options.index,1);this.destroy();t.isDirtyBox=!0;d(e,!0)&&t.redraw()},defaultLabelFormatter:function(){var e=this.axis,t=this.value,n=e.categories,r=this.dateTimeLabelFormat,i=St.lang.numericSymbols,s=i&&i.length,o,u=e.options.labels.format,e=e.isLog?t:e.tickInterval;if(u)o=E(u,this);else if(n)o=t;else if(r)o=xt(r,t);else if(s&&e>=1e3)for(;s--&&o===V;)n=Math.pow(1e3,s+1),e>=n&&i[s]!==null&&(o=y(t/n,-1)+i[s]);o===V&&(o=t>=1e3?y(t,0):y(t,-1));return o},getSeriesExtremes:function(){var e=this,t=e.chart,n=e.stacks,r=[],i=[],s=e._stacksTouched+=1,o,u;e.hasVisibleSeries=!1;e.dataMin=e.dataMax=null;on(e.series,function(o){if(o.visible||!t.options.chart.ignoreHiddenSeries){var a=o.options,f,l,h,p,v,m,g,y,b,w=a.threshold,E,S=[],x=0;e.hasVisibleSeries=!0;if(e.isLog&&w<=0)w=a.threshold=null;if(e.isXAxis){if(a=o.xData,a.length)e.dataMin=et(d(e.dataMin,a[0]),k(a)),e.dataMax=Z(d(e.dataMax,a[0]),L(a))}else{var T,N,C,A=o.cropped,O=o.xAxis.getExtremes(),M=!!o.modifyValue;f=a.stacking;e.usePercentage=f==="percent";if(f)v=a.stack,p=o.type+d(v,""),m="-"+p,o.stackKey=p,l=r[p]||[],r[p]=l,h=i[m]||[],i[m]=h;if(e.usePercentage)e.dataMin=0,e.dataMax=99;a=o.processedXData;g=o.processedYData;E=g.length;for(u=0;u<E;u++){y=a[u];b=g[u];if(f)N=(T=b<w)?h:l,C=T?m:p,c(N[y])?(N[y]=_(N[y]+b),b=[b,N[y]]):N[y]=b,n[C]||(n[C]={}),n[C][y]||(n[C][y]=new F(e,e.options.stackLabels,T,y,v,f)),n[C][y].setTotal(N[y]),n[C][y].touched=s;if(b!==null&&b!==V&&(!e.isLog||b.length||b>0))if(M&&(b=o.modifyValue(b)),o.getExtremesFromAll||A||(a[u+1]||y)>=O.min&&(a[u-1]||y)<=O.max)if(y=b.length)for(;y--;)b[y]!==null&&(S[x++]=b[y]);else S[x++]=b}if(!e.usePercentage&&S.length)o.dataMin=f=k(S),o.dataMax=o=L(S),e.dataMin=et(d(e.dataMin,f),f),e.dataMax=Z(d(e.dataMax,o),o);if(c(w))if(e.dataMin>=w)e.dataMin=w,e.ignoreMinPadding=!0;else if(e.dataMax<w)e.dataMax=w,e.ignoreMaxPadding=!0}}});for(o in n)for(u in n[o])n[o][u].touched<s&&(n[o][u].destroy(),delete n[o][u])},translate:function(e,t,n,r,i,s){var o=this.len,u=1,a=0,f=r?this.oldTransA:this.transA,r=r?this.oldMin:this.min,l=this.minPixelPadding,i=(this.options.ordinal||this.isLog&&i)&&this.lin2val;if(!f)f=this.transA;n&&(u*=-1,a=o);this.reversed&&(u*=-1,a-=u*o);t?(e=e*u+a,e-=l,e=e/f+r,i&&(e=this.lin2val(e))):(i&&(e=this.val2lin(e)),e=u*(e-r)*f+a+u*l+(s?f*this.pointRange/2:0));return e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r){var i=this.chart,s=this.left,o=this.top,u,a,f,e=this.translate(e,null,null,n),l=n&&i.oldChartHeight||i.chartHeight,c=n&&i.oldChartWidth||i.chartWidth,h;u=this.transB;n=a=Q(e+u);u=f=Q(l-e-u);if(isNaN(e))h=!0;else if(this.horiz){if(u=o,f=l-this.bottom,n<s||n>s+this.width)h=!0}else if(n=s,a=c-this.right,u<o||u>o+this.height)h=!0;return h&&!r?null:i.renderer.crispLine(["M",n,u,"L",a,f],t||0)},getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);r&&n?r.push(n[4],n[5],n[1],n[2]):r=null;return r},getLinearTickPositions:function(e,t,n){for(var r,t=_(G(t/e)*e),n=_(Y(n/e)*e),i=[];t<=n;){i.push(t);t=_(t+e);if(t===r)break;r=t}return i},getLogTickPositions:function(e,t,n,r){var i=this.options,s=this.len,o=[];if(!r)this._minorAutoInterval=null;if(e>=.5)e=Q(e),o=this.getLinearTickPositions(e,t,n);else if(e>=.08)for(var s=G(t),u,l,c,h,p,i=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s<n+1&&!p;s++){l=i.length;for(u=0;u<l&&!p;u++)c=a(f(s)*i[u]),c>t&&(!r||h<=n)&&o.push(h),h>n&&(p=!0),h=c}else if(t=f(t),n=f(n),e=i[r?"minorTickInterval":"tickInterval"],e=d(e==="auto"?null:e,this._minorAutoInterval,(n-t)*(i.tickPixelInterval/(r?5:1))/((r?s/this.tickPositions.length:s)||1)),e=S(e,null,K.pow(10,G(K.log(e)/K.LN10))),o=fn(this.getLinearTickPositions(e,t,n),a),!r)this._minorAutoInterval=e/5;if(!r)this.tickInterval=e;return o},getMinorTickPositions:function(){var e=this.options,t=this.tickPositions,n=this.minorTickInterval,r=[],i;if(this.isLog){i=t.length;for(e=1;e<i;e++)r=r.concat(this.getLogTickPositions(n,t[e-1],t[e],!0))}else if(this.isDatetimeAxis&&e.minorTickInterval==="auto")r=r.concat(T(x(n),this.min,this.max,e.startOfWeek)),r[0]<this.min&&r.shift();else for(t=this.min+(t[0]-this.min)%n;t<=this.max;t+=n)r.push(t);return r},adjustForMinRange:function(){var e=this.options,t=this.min,n=this.max,r,i=this.dataMax-this.dataMin>=this.minRange,s,o,u,a,f;if(this.isXAxis&&this.minRange===V&&!this.isLog)c(e.min)||c(e.max)?this.minRange=null:(on(this.series,function(e){a=e.xData;for(o=f=e.xIncrement?1:a.length-1;o>0;o--)if(u=a[o]-a[o-1],s===V||u<s)s=u}),this.minRange=et(s*5,this.dataMax-this.dataMin));if(n-t<this.minRange){var l=this.minRange;r=(l-n+t)/2;r=[t-r,d(e.min,t-r)];if(i)r[2]=this.dataMin;t=L(r);n=[t+l,d(e.max,t+l)];if(i)n[2]=this.dataMax;n=k(n);n-t<l&&(r[0]=n-l,r[1]=d(e.min,n-l),t=L(r))}this.min=t;this.max=n},setAxisTranslation:function(e){var t=this.max-this.min,n=0,r,i=0,s=0,o=this.linkedParent,u=this.transA;if(this.isXAxis)o?(i=o.minPointOffset,s=o.pointRangePadding):on(this.series,function(e){var o=e.pointRange,u=e.options.pointPlacement,a=e.closestPointRange;o>t&&(o=0);n=Z(n,o);i=Z(i,u?0:o/2);s=Z(s,u==="on"?0:o);!e.noSharedTooltip&&c(a)&&(r=c(r)?et(r,a):a)}),o=this.ordinalSlope?this.ordinalSlope/r:1,this.minPointOffset=i*=o,this.pointRangePadding=s*=o,this.pointRange=et(n,t),this.closestPointRange=r;if(e)this.oldTransA=u;this.translationSlope=this.transA=u=this.len/(t+s||1);this.transB=this.horiz?this.left:this.bottom;this.minPixelPadding=u*i},setTickPositions:function(e){var t=this,n=t.chart,r=t.options,i=t.isLog,s=t.isDatetimeAxis,o=t.isXAxis,u=t.isLinked,f=t.options.tickPositioner,l=r.maxPadding,h=r.minPadding,p=r.tickInterval,v=r.minTickInterval,m=r.tickPixelInterval,g=t.categories;u?(t.linkedParent=n[o?"xAxis":"yAxis"][r.linkedTo],n=t.linkedParent.getExtremes(),t.min=d(n.min,n.dataMin),t.max=d(n.max,n.dataMax),r.type!==t.linkedParent.options.type&&M(11,1)):(t.min=d(t.userMin,r.min,t.dataMin),t.max=d(t.userMax,r.max,t.dataMax));if(i)!e&&et(t.min,d(t.dataMin,t.min))<=0&&M(10,1),t.min=_(a(t.min)),t.max=_(a(t.max));if(t.range&&(t.userMin=t.min=Z(t.min,t.max-t.range),t.userMax=t.max,e))t.range=null;t.beforePadding&&t.beforePadding();t.adjustForMinRange();if(!g&&!t.usePercentage&&!u&&c(t.min)&&c(t.max)&&(n=t.max-t.min)){if(!c(r.min)&&!c(t.userMin)&&h&&(t.dataMin<0||!t.ignoreMinPadding))t.min-=n*h;if(!c(r.max)&&!c(t.userMax)&&l&&(t.dataMax>0||!t.ignoreMaxPadding))t.max+=n*l}t.tickInterval=t.min===t.max||t.min===void 0||t.max===void 0?1:u&&!p&&m===t.linkedParent.options.tickPixelInterval?t.linkedParent.tickInterval:d(p,g?1:(t.max-t.min)*m/(t.len||1));o&&!e&&on(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)});t.setAxisTranslation(!0);t.beforeSetTickPositions&&t.beforeSetTickPositions();if(t.postProcessTickInterval)t.tickInterval=t.postProcessTickInterval(t.tickInterval);if(!p&&t.tickInterval<v)t.tickInterval=v;if(!s&&!i&&(e=K.pow(10,G(K.log(t.tickInterval)/K.LN10)),!p))t.tickInterval=S(t.tickInterval,null,e,r);t.minorTickInterval=r.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:r.minorTickInterval;t.tickPositions=f=r.tickPositions?[].concat(r.tickPositions):f&&f.apply(t,[t.min,t.max]);if(!f)f=s?(t.getNonLinearTimeTicks||T)(x(t.tickInterval,r.units),t.min,t.max,r.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):i?t.getLogTickPositions(t.tickInterval,t.min,t.max):t.getLinearTickPositions(t.tickInterval,t.min,t.max),t.tickPositions=f;if(!u)i=f[0],s=f[f.length-1],u=t.minPointOffset||0,r.startOnTick?t.min=i:t.min-u>i&&f.shift(),r.endOnTick?t.max=s:t.max+u<s&&f.pop(),f.length===1&&(t.min-=.001,t.max+=.001)},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},n=this.tickPositions,r=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(t[r]||0)&&this.options.alignTicks!==!1)t[r]=n.length;e.maxTicks=t},adjustTickAmount:function(){var e=this._maxTicksKey,t=this.tickPositions,n=this.chart.maxTicks;if(n&&n[e]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var r=this.tickAmount,i=t.length;this.tickAmount=e=n[e];if(i<e){for(;t.length<e;)t.push(_(t[t.length-1]+this.tickInterval));this.transA*=(i-1)/(e-1);this.max=t[t.length-1]}if(c(r)&&e!==r)this.isDirty=!0}},setScale:function(){var e=this.stacks,t,n,r,i;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();i=this.len!==this.oldAxisLength;on(this.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty)r=!0});if(i||r||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax)if(this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,!this.isDirty)this.isDirty=i||this.min!==this.oldMin||this.max!==this.oldMax;if(!this.isXAxis)for(t in e)for(n in e[t])e[t][n].cum=e[t][n].total;this.setMaxTicks()},setExtremes:function(t,n,r,i,s){var o=this,u=o.chart,r=d(r,!0),s=e(s,{min:t,max:n});hn(o,"setExtremes",s,function(){o.userMin=t;o.userMax=n;o.isDirtyExtremes=!0;r&&u.redraw(i)})},zoom:function(e,t){this.allowZoomOutside||(e<=this.dataMin&&(e=V),t>=this.dataMax&&(t=V));this.displayBtn=e!==V||t!==V;this.setExtremes(e,t,!1,V,{trigger:"zoom"});return!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=t.offsetRight||0,i=this.horiz,s,o;this.left=o=d(t.left,e.plotLeft+n);this.top=s=d(t.top,e.plotTop);this.width=n=d(t.width,e.plotWidth-n+r);this.height=t=d(t.height,e.plotHeight);this.bottom=e.chartHeight-t-s;this.right=e.chartWidth-n-o;this.len=Z(i?n:t,0);this.pos=i?o:s},getExtremes:function(){var e=this.isLog;return{min:e?_(f(this.min)):this.min,max:e?_(f(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?f(this.min):this.min,t=t?f(this.max):this.max;n>e||e===null?e=n:t<e&&(e=t);return this.translate(e,0,1,0,1)},addPlotBand:function(e){this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new j(this,e)).render(),r=this.userOptions;t&&(r[t]=r[t]||[],r[t].push(e));this.plotLinesAndBands.push(n);return n},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,s=e.ticks,o=e.horiz,u=e.side,a=t.inverted?[1,0,3,2][u]:u,f,l=0,h,p=0,v=r.title,m=r.labels,g=0,y=t.axisOffset,b=t.clipOffset,w=[-1,1,1,-1][u],E;e.hasData=t=e.hasVisibleSeries||c(e.min)&&c(e.max)&&!!i;e.showAxis=f=t||d(r.showEmpty,!0);if(!e.axisGroup)e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add(),e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).add(),e.labelGroup=n.g("axis-labels").attr({zIndex:m.zIndex||7}).add();if(t||e.isLinked)on(i,function(t){s[t]?s[t].addLabel():s[t]=new B(e,t)}),on(i,function(e){if(u===0||u===2||{1:"left",3:"right"}[u]===m.align)g=Z(s[e].getLabelSize(),g)}),e.staggerLines&&(g+=(e.staggerLines-1)*16);else for(E in s)s[E].destroy(),delete s[E];if(v&&v.text&&v.enabled!==!1){if(!e.axisTitle)e.axisTitle=n.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:v.textAlign||{low:"left",middle:"center",high:"right"}[v.align]}).css(v.style).add(e.axisGroup),e.axisTitle.isNew=!0;if(f)l=e.axisTitle.getBBox()[o?"height":"width"],p=d(v.margin,o?5:10),h=v.offset;e.axisTitle[f?"show":"hide"]()}e.offset=w*d(r.offset,y[u]);e.axisTitleMargin=d(h,g+p+(u!==2&&g&&w*r.labels[o?"y":"x"]));y[u]=Z(y[u],e.axisTitleMargin+l+w*e.offset);b[a]=Z(b[a],r.lineWidth)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r;this.lineTop=r=t.chartHeight-this.bottom-(n?this.height:0)+r;n||(e*=-1);return t.renderer.crispLine(["M",i?this.left:s,i?r:this.top,"L",i?t.chartWidth-this.right:s,i?r:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,i=this.len,s=this.options.title,o=e?t:n,u=this.opposite,a=this.offset,f=r(s.style.fontSize||12),i={low:o+(e?0:i),middle:o+i/2,high:o+(e?i:0)}[s.align],t=(e?n+this.height:t)+(e?1:-1)*(u?-1:1)*this.axisTitleMargin+(this.side===2?f:0);return{x:e?i:t+(u?this.width:0)+a+(s.x||0),y:e?t-(u?this.height:0)+a:i+(s.y||0)}},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.isLog,s=e.isLinked,o=e.tickPositions,u=e.axisTitle,a=e.stacks,l=e.ticks,h=e.minorTicks,p=e.alternateBands,d=r.stackLabels,v=r.alternateGridColor,m=e.tickmarkOffset,g=r.lineWidth,y,b=t.hasRendered&&c(e.oldMin)&&!isNaN(e.oldMin);y=e.hasData;var w=e.showAxis,E,S;on([l,h,p],function(e){for(var t in e)e[t].isActive=!1});if(y||s)if(e.minorTickInterval&&!e.categories&&on(e.getMinorTickPositions(),function(t){h[t]||(h[t]=new B(e,t,"minor"));b&&h[t].isNew&&h[t].render(null,!0);h[t].render(null,!1,1)}),o.length&&(on(o.slice(1).concat([o[0]]),function(t,n){n=n===o.length-1?0:n+1;if(!s||t>=e.min&&t<=e.max)l[t]||(l[t]=new B(e,t)),b&&l[t].isNew&&l[t].render(n,!0),l[t].render(n,!1,1)}),m&&e.min===0&&(l[-1]||(l[-1]=new B(e,-1,null,!0)),l[-1].render(-1))),v&&on(o,function(t,n){if(n%2===0&&t<e.max)p[t]||(p[t]=new j(e)),E=t+m,S=o[n+1]!==V?o[n+1]+m:e.max,p[t].options={from:i?f(E):E,to:i?f(S):S,color:v},p[t].render(),p[t].isActive=!0}),!e._addedPlotLB)on((r.plotLines||[]).concat(r.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0;on([l,h,p],function(e){var n,r,i=[],s=Tt?Tt.duration||500:0,o=function(){for(r=i.length;r--;)e[i[r]]&&!e[i[r]].isActive&&(e[i[r]].destroy(),delete e[i[r]])};for(n in e)if(!e[n].isActive)e[n].render(n,!1,0),e[n].isActive=!1,i.push(n);e===p||!t.hasRendered||!s?o():s&&setTimeout(o,s)});if(g)y=e.getLinePath(g),e.axisLine?e.axisLine.animate({d:y}):e.axisLine=n.path(y).attr({stroke:r.lineColor,"stroke-width":g,zIndex:7}).add(e.axisGroup),e.axisLine[w?"show":"hide"]();if(u&&w)u[u.isNew?"attr":"animate"](e.getTitlePosition()),u.isNew=!1;if(d&&d.enabled){var x,T,r=e.stackTotalGroup;if(!r)e.stackTotalGroup=r=n.g("stack-labels").attr({visibility:"visible",zIndex:6}).add();r.translate(t.plotLeft,t.plotTop);for(x in a)for(T in n=a[x],n)n[T].render(r)}e.isDirty=!1},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=t.length;n--;)t[n].id===e&&t[n].destroy()},setTitle:function(e,t){this.update({title:e},t)},redraw:function(){var e=this.chart.pointer;e.reset&&e.reset(!0);this.render();on(this.plotLinesAndBands,function(e){e.render()});on(this.series,function(e){e.isDirty=!0})},setCategories:function(e,t){this.update({categories:e},t)},destroy:function(){var e=this,t=e.stacks,n;cn(e);for(n in t)A(t[n]),t[n]=null;on([e.ticks,e.minorTicks,e.alternateBands,e.plotLinesAndBands],function(e){A(e)});on("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(t){e[t]&&(e[t]=e[t].destroy())})}};q.prototype={init:function(e,t){var n=t.borderWidth,i=t.style,s=r(i.padding);this.chart=e;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=e.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:s,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).hide().add();mt||this.label.shadow(t.shadow);this.shared=t.shared},destroy:function(){on(this.crosshairs,function(e){e&&e.destroy()});if(this.label)this.label=this.label.destroy()},move:function(t,n,r,i){var s=this,o=s.now,u=s.options.animation!==!1&&!s.isHidden;e(o,{x:u?(2*o.x+t)/3:t,y:u?(o.y+n)/2:n,anchorX:u?(2*o.anchorX+r)/3:r,anchorY:u?(o.anchorY+i)/2:i});s.label.attr(o);if(u&&(tt(t-o.x)>1||tt(n-o.y)>1))clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,n,r,i)},32)},hide:function(){var e=this,t;if(!this.isHidden)t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut();e.isHidden=!0},d(this.options.hideDelay,500)),t&&on(t,function(e){e.setState()}),this.chart.hoverPoints=null},hideCrosshairs:function(){on(this.crosshairs,function(e){e&&e.hide()})},getAnchor:function(e,t){var n,r=this.chart,i=r.inverted,s=r.plotTop,o=0,u=0,a,e=p(e);n=e[0].tooltipPos;this.followPointer&&t&&(t.chartX===V&&(t=r.pointer.normalize(t)),n=[t.chartX-r.plotLeft,t.chartY-s]);n||(on(e,function(e){a=e.series.yAxis;o+=e.plotX;u+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!i&&a?a.top-s:0)}),o/=e.length,u/=e.length,n=[i?r.plotWidth-u:o,this.shared&&!i&&e.length>1&&t?t.chartY-s:i?r.plotHeight-o:u]);return fn(n,Q)},getPosition:function(e,t,n){var r=this.chart,i=r.plotLeft,s=r.plotTop,o=r.plotWidth,u=r.plotHeight,a=d(this.options.distance,12),f=n.plotX,n=n.plotY,r=f+i+(r.inverted?a:-e-a),l=n-t+s+15,c;r<7&&(r=i+Z(f,0)+a);r+e>i+o&&(r-=r+e-(i+o),l=n-t+s-a,c=!0);l<s+5&&(l=s+5,c&&n>=l&&n<=l+t&&(l=n+s+a));l+t>s+u&&(l=Z(s,s+u-t-a));return{x:r,y:l}},defaultFormatter:function(e){var t=this.points||p(this),n=t[0].series,r;r=[n.tooltipHeaderFormatter(t[0])];on(t,function(e){n=e.series;r.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))});r.push(e.options.footerFormat||"");return r.join("")},refresh:function(e,t){var n=this.chart,r=this.label,i=this.options,s,o,u,f={},l,c=[];l=i.formatter||this.defaultFormatter;var f=n.hoverPoints,h,v=i.crosshairs;u=this.shared;clearTimeout(this.hideTimer);this.followPointer=p(e)[0].series.tooltipOptions.followPointer;o=this.getAnchor(e,t);s=o[0];o=o[1];u&&(!e.series||!e.series.noSharedTooltip)?(n.hoverPoints=e,f&&on(f,function(e){e.setState()}),on(e,function(e){e.setState("hover");c.push(e.getLabelConfig())}),f={x:e[0].category,y:e[0].y},f.points=c,e=e[0]):f=e.getLabelConfig();l=l.call(f,this);f=e.series;u=u||!f.isCartesian||f.tooltipOutsidePlot||n.isInsidePlot(s,o);l===!1||!u?this.hide():(this.isHidden&&(vn(r),r.attr("opacity",1).show()),r.attr({text:l}),h=i.borderColor||e.color||f.color||"#606060",r.attr({stroke:h}),this.updatePosition({plotX:s,plotY:o}),this.isHidden=!1);if(v){v=p(v);for(r=v.length;r--;)if(i=e.series[r?"yAxis":"xAxis"],v[r]&&i)if(u=r?d(e.stackY,e.y):e.x,i.isLog&&(u=a(u)),i=i.getPlotLinePath(u,1),this.crosshairs[r])this.crosshairs[r].attr({d:i,visibility:"visible"});else{u={"stroke-width":v[r].width||1,stroke:v[r].color||"#C0C0C0",zIndex:v[r].zIndex||2};if(v[r].dashStyle)u.dashstyle=v[r].dashStyle;this.crosshairs[r]=n.renderer.path(i).attr(u).add()}}hn(n,"tooltipRefresh",{text:l,x:s+n.plotLeft,y:o+n.plotTop,borderColor:h})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(Q(n.x),Q(n.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)}};R.prototype={init:function(e,t){var n=mt?"":t.chart.zoomType,r=e.inverted,i;this.options=t;this.chart=e;this.zoomX=i=/x/.test(n);this.zoomY=n=/y/.test(n);this.zoomHor=i&&!r||n&&r;this.zoomVert=n&&!r||i&&r;this.pinchDown=[];this.lastValidTouch={};if(t.tooltip.enabled)e.tooltip=new q(e,t.tooltip);this.setDOMEvents()},normalize:function(t){var n,r,i,t=t||J.event;if(!t.target)t.target=t.srcElement;t=pn(t);i=t.touches?t.touches.item(0):t;this.chartPosition=n=an(this.chart.container);i.pageX===V?(r=t.x,n=t.y):(r=i.pageX-n.left,n=i.pageY-n.top);return e(t,{chartX:Q(r),chartY:Q(n)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};on(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})});return t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var t=this.chart,n=t.series,r=t.tooltip,i,s=t.hoverPoint,o=t.hoverSeries,u,a,f=t.chartWidth,l=this.getIndex(e);if(r&&this.options.tooltip.shared&&(!o||!o.noSharedTooltip)){i=[];u=n.length;for(a=0;a<u;a++)if(n[a].visible&&n[a].options.enableMouseTracking!==!1&&!n[a].noSharedTooltip&&n[a].tooltipPoints.length&&(t=n[a].tooltipPoints[l],t.series))t._dist=tt(l-t.clientX),f=et(f,t._dist),i.push(t);for(u=i.length;u--;)i[u]._dist>f&&i.splice(u,1);if(i.length&&i[0].clientX!==this.hoverX)r.refresh(i,e),this.hoverX=i[0].clientX}if(o&&o.tracker){if((t=o.tooltipPoints[l])&&t!==s)t.onMouseOver(e)}else r&&r.followPointer&&!r.isHidden&&(e=r.getAnchor([{}],e),r.updatePosition({plotX:e[0],plotY:e[1]}))},reset:function(e){var t=this.chart,n=t.hoverSeries,r=t.hoverPoint,i=t.tooltip,t=i&&i.shared?t.hoverPoints:r;(e=e&&i&&t)&&p(t)[0].plotX===V&&(e=!1);if(e)i.refresh(t);else{if(r)r.onMouseOut();if(n)n.onMouseOut();i&&(i.hide(),i.hideCrosshairs());this.hoverX=null}},scaleGroups:function(e,t){var n=this.chart;on(n.series,function(r){r.xAxis.zoomEnabled&&(r.group.attr(e),r.markerGroup&&(r.markerGroup.attr(e),r.markerGroup.clip(t?n.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(e))});n.clipRect.attr(t||n.clipBox)},pinchTranslateDirection:function(e,t,n,r,i,s,o){var u=this.chart,a=e?"x":"y",f=e?"X":"Y",l="chart"+f,c=e?"width":"height",h=u["plot"+(e?"Left":"Top")],p,d,v=1,m=u.inverted,g=u.bounds[e?"h":"v"],y=t.length===1,b=t[0][l],w=n[0][l],E=!y&&t[1][l],S=!y&&n[1][l],x,n=function(){!y&&tt(b-E)>20&&(v=tt(w-S)/tt(b-E));d=(h-w)/v+b;p=u["plot"+(e?"Width":"Height")]/v};n();t=d;t<g.min?(t=g.min,x=!0):t+p>g.max&&(t=g.max-p,x=!0);x?(w-=.8*(w-o[a][0]),y||(S-=.8*(S-o[a][1])),n()):o[a]=[w,S];m||(s[a]=d-h,s[c]=p);s=m?1/v:v;i[c]=p;i[a]=t;r[m?e?"scaleY":"scaleX":"scale"+f]=v;r["translate"+f]=s*h+(w-s*b)},pinch:function(t){var n=this,r=n.chart,i=n.pinchDown,s=r.tooltip.options.followTouchMove,o=t.touches,u=o.length,a=n.lastValidTouch,f=n.zoomHor||n.pinchHor,l=n.zoomVert||n.pinchVert,c=f||l,h=n.selectionMarker,p={},d={};t.type==="touchstart"&&s&&(n.inClass(t.target,"highcharts-tracker")?(!r.runTrackerClick||u>1)&&t.preventDefault():(!r.runChartClick||u>1)&&t.preventDefault());fn(o,function(e){return n.normalize(e)});if(t.type==="touchstart")on(o,function(e,t){i[t]={chartX:e.chartX,chartY:e.chartY}}),a.x=[i[0].chartX,i[1]&&i[1].chartX],a.y=[i[0].chartY,i[1]&&i[1].chartY],on(r.axes,function(e){if(e.zoomEnabled){var t=r.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,i=e.toPixels(e.dataMin),s=e.toPixels(e.dataMax),o=et(i,s),i=Z(i,s);t.min=et(e.pos,o-n);t.max=Z(e.pos+e.len,i+n)}});else if(i.length){if(!h)n.selectionMarker=h=e({destroy:kt},r.plotBox);f&&n.pinchTranslateDirection(!0,i,o,p,h,d,a);l&&n.pinchTranslateDirection(!1,i,o,p,h,d,a);n.hasPinched=c;n.scaleGroups(p,d);!c&&s&&u===1&&this.runPointActions(n.normalize(t))}},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type;t.cancelClick=!1;t.mouseDownX=this.mouseDownX=e.chartX;this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,e=e.chartY,i=this.zoomHor,s=this.zoomVert,o=t.plotLeft,u=t.plotTop,a=t.plotWidth,f=t.plotHeight,l,c=this.mouseDownX,h=this.mouseDownY;r<o?r=o:r>o+a&&(r=o+a);e<u?e=u:e>u+f&&(e=u+f);this.hasDragged=Math.sqrt(Math.pow(c-r,2)+Math.pow(h-e,2));if(this.hasDragged>10){l=t.isInsidePlot(c-o,h-u);if(t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&l&&!this.selectionMarker)this.selectionMarker=t.renderer.rect(o,u,i?1:a,s?1:f,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add();this.selectionMarker&&i&&(i=r-c,this.selectionMarker.attr({width:tt(i),x:(i>0?0:i)+c}));this.selectionMarker&&s&&(i=e-h,this.selectionMarker.attr({height:tt(i),y:(i>0?0:i)+h}));l&&!this.selectionMarker&&n.panning&&t.pan(r)}},drop:function(t){var n=this.chart,r=this.hasPinched;if(this.selectionMarker){var i={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},s=this.selectionMarker,o=s.x,u=s.y,a;if(this.hasDragged||r)on(n.axes,function(e){if(e.zoomEnabled){var t=e.horiz,n=e.minPixelPadding,r=e.toValue((t?o:u)+n),t=e.toValue((t?o+s.width:u+s.height)-n);!isNaN(r)&&!isNaN(t)&&(i[e.xOrY+"Axis"].push({axis:e,min:et(r,t),max:Z(r,t)}),a=!0)}}),a&&hn(n,"selection",i,function(t){n.zoom(e(t,r?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy();r&&this.scaleGroups({translateX:n.plotLeft,translateY:n.plotTop,scaleX:1,scaleY:1})}if(n)v(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[]},onContainerMouseDown:function(e){e=this.normalize(e);e.preventDefault&&e.preventDefault();this.dragStart(e)},onDocumentMouseUp:function(e){this.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,r=t.hoverSeries,e=pn(e);n&&r&&r.isCartesian&&!t.isInsidePlot(e.pageX-n.left-t.plotLeft,e.pageY-n.top-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset();this.chartPosition=null},onContainerMouseMove:function(e){var t=this.chart,e=this.normalize(e);e.returnValue=!1;t.mouseIsDown==="mousedown"&&this.drag(e);t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=h(e,"class"))if(n.indexOf(t)!==-1)return!0;else if(n.indexOf("highcharts-container")!==-1)return!1;e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries;if(t&&!t.options.stickyTracking&&!this.inClass(e.toElement||e.relatedTarget,"highcharts-tooltip"))t.onMouseOut()},onContainerClick:function(t){var n=this.chart,r=n.hoverPoint,i=n.plotLeft,s=n.plotTop,o=n.inverted,u,a,f,t=this.normalize(t);t.cancelBubble=!0;if(!n.cancelClick)r&&this.inClass(t.target,"highcharts-tracker")?(u=this.chartPosition,a=r.plotX,f=r.plotY,e(r,{pageX:u.left+i+(o?n.plotWidth-f:a),pageY:u.top+s+(o?n.plotHeight-a:f)}),hn(r.series,"click",e(t,{point:r})),r.firePointEvent("click",t)):(e(t,this.getCoordinates(t)),n.isInsidePlot(t.chartX-i,t.chartY-s)&&hn(n,"click",t))},onContainerTouchStart:function(e){var t=this.chart;e.touches.length===1?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&(this.runPointActions(e),this.pinch(e))):e.touches.length===2&&this.pinch(e)},onContainerTouchMove:function(e){(e.touches.length===1||e.touches.length===2)&&this.pinch(e)},onDocumentTouchEnd:function(e){this.drop(e)},setDOMEvents:function(){var e=this,t=e.chart.container,n;this._events=n=[[t,"onmousedown","onContainerMouseDown"],[t,"onmousemove","onContainerMouseMove"],[t,"onclick","onContainerClick"],[t,"mouseleave","onContainerMouseLeave"],[$,"mousemove","onDocumentMouseMove"],[$,"mouseup","onDocumentMouseUp"]];yt&&n.push([t,"ontouchstart","onContainerTouchStart"],[t,"ontouchmove","onContainerTouchMove"],[$,"touchend","onDocumentTouchEnd"]);on(n,function(t){e["_"+t[2]]=function(n){e[t[2]](n)};t[1].indexOf("on")===0?t[0][t[1]]=e["_"+t[2]]:ln(t[0],t[1],e["_"+t[2]])})},destroy:function(){var e=this;on(e._events,function(t){t[1].indexOf("on")===0?t[0][t[1]]=null:cn(t[0],t[1],e["_"+t[2]])});delete e._events;clearInterval(e.tooltipTimeout)}};U.prototype={init:function(e,n){var i=this,s=n.itemStyle,o=d(n.padding,8),u=n.itemMarginTop||0;this.options=n;if(n.enabled)i.baseline=r(s.fontSize)+3+u,i.itemStyle=s,i.itemHiddenStyle=t(s,n.itemHiddenStyle),i.itemMarginTop=u,i.padding=o,i.initialItemX=o,i.initialItemY=o-5,i.maxItemWidth=0,i.chart=e,i.itemHeight=0,i.lastLineHeight=0,i.render(),ln(i.chart,"endResize",function(){i.positionCheckboxes()})},colorizeItem:function(e,t){var n=this.options,r=e.legendItem,i=e.legendLine,s=e.legendSymbol,o=this.itemHiddenStyle.color,n=t?n.itemStyle.color:o,u=t?e.color:o,o=e.options&&e.options.marker,a={stroke:u,fill:u},f;r&&r.css({fill:n,color:n});i&&i.attr({stroke:u});if(s){if(o)for(f in o=e.convertAttribs(o),o)r=o[f],r!==V&&(a[f]=r);s.attr(a)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,r=e._legendItemPos,i=r[0],r=r[1],s=e.checkbox;e.legendGroup&&e.legendGroup.translate(t?i:this.legendWidth-i-2*n-4,r);if(s)s.x=i,s.y=r},destroyItem:function(e){var t=e.checkbox;on(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&e[t].destroy()});t&&O(e.checkbox)},destroy:function(){var e=this.group,t=this.box;if(t)this.box=t.destroy();if(e)this.group=e.destroy()},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;if(t)n=t.translateY,on(this.allItems,function(i){var s=i.checkbox,o;s&&(o=n+s.y+(e||0)+3,v(s,{left:t.translateX+i.legendItemWidth+s.x-20+"px",top:o+"px",display:o>n-6&&o<n+r-6?"":Ot}))})},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;if(t.text){if(!this.title)this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group);n=this.title.getBBox().height;this.contentGroup.attr({translateY:n})}this.titleHeight=n},renderItem:function(e){var n;var r=this,i=r.chart,s=i.renderer,o=r.options,u=o.layout==="horizontal",a=o.symbolWidth,f=o.symbolPadding,l=r.itemStyle,c=r.itemHiddenStyle,h=r.padding,p=!o.rtl,d=o.width,v=o.itemMarginBottom||0,g=r.itemMarginTop,y=r.initialItemX,b=e.legendItem,w=e.series||e,S=w.options,x=S.showCheckbox,T=o.useHTML;if(!b&&(e.legendGroup=s.g("legend-item").attr({zIndex:1}).add(r.scrollGroup),w.drawLegendSymbol(r,e),e.legendItem=b=s.text(o.labelFormat?E(o.labelFormat,e):o.labelFormatter.call(e),p?a+f:-f,r.baseline,T).css(t(e.visible?l:c)).attr({align:p?"left":"right",zIndex:2}).add(e.legendGroup),(T?b:e.legendGroup).on("mouseover",function(){e.setState("hover");b.css(r.options.itemHoverStyle)}).on("mouseout",function(){b.css(e.visible?l:c);e.setState()}).on("click",function(t){var n=function(){e.setVisible()},t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):hn(e,"legendItemClick",t,n)}),r.colorizeItem(e,e.visible),S&&x))e.checkbox=m("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},o.itemCheckboxStyle,i.container),ln(e.checkbox,"click",function(t){hn(e,"checkboxClick",{checked:t.target.checked},function(){e.select()})});s=b.getBBox();n=e.legendItemWidth=o.itemWidth||a+f+s.width+h+(x?20:0),o=n;r.itemHeight=a=s.height;if(u&&r.itemX-y+o>(d||i.chartWidth-2*h-y))r.itemX=y,r.itemY+=g+r.lastLineHeight+v,r.lastLineHeight=0;r.maxItemWidth=Z(r.maxItemWidth,o);r.lastItemY=g+r.itemY+v;r.lastLineHeight=Z(a,r.lastLineHeight);e._legendItemPos=[r.itemX,r.itemY];u?r.itemX+=o:(r.itemY+=g+a+v,r.lastLineHeight=a);r.offsetWidth=d||Z(u?r.itemX-y:o,r.offsetWidth)},render:function(){var t=this,n=t.chart,r=n.renderer,i=t.group,s,o,u,a,f=t.box,l=t.options,h=t.padding,p=l.borderWidth,d=l.backgroundColor;t.itemX=t.initialItemX;t.itemY=t.initialItemY;t.offsetWidth=0;t.lastItemY=0;if(!i)t.group=i=r.g("legend").attr({zIndex:7}).add(),t.contentGroup=r.g().attr({zIndex:1}).add(i),t.scrollGroup=r.g().add(t.contentGroup),t.clipRect=r.clipRect(0,0,9999,n.chartHeight),t.contentGroup.clip(t.clipRect);t.renderTitle();s=[];on(n.series,function(e){var t=e.options;t.showInLegend&&!c(t.linkedTo)&&(s=s.concat(e.legendItems||(t.legendType==="point"?e.data:e)))});C(s,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)});l.reversed&&s.reverse();t.allItems=s;t.display=o=!!s.length;on(s,function(e){t.renderItem(e)});u=l.width||t.offsetWidth;a=t.lastItemY+t.lastLineHeight+t.titleHeight;a=t.handleOverflow(a);if(p||d){u+=h;a+=h;if(f){if(u>0&&a>0)f[f.isNew?"attr":"animate"](f.crisp(null,null,null,u,a)),f.isNew=!1}else t.box=f=r.rect(0,0,u,a,l.borderRadius,p||0).attr({stroke:l.borderColor,"stroke-width":p||0,fill:d||Ot}).add(i).shadow(l.shadow),f.isNew=!0;f[o?"show":"hide"]()}t.legendWidth=u;t.legendHeight=a;on(s,function(e){t.positionItem(e)});o&&i.align(e({width:u,height:a},l),!0,"spacingBox");n.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,i=this.options,s=i.y,s=n.spacingBox.height+(i.verticalAlign==="top"?-s:s)-this.padding,o=i.maxHeight,u=this.clipRect,a=i.navigation,f=d(a.animation,!0),l=a.arrowSize||12,c=this.nav;i.layout==="horizontal"&&(s/=2);o&&(s=et(s,o));if(e>s&&!i.useHTML){this.clipHeight=n=s-20-this.titleHeight;this.pageCount=Y(e/n);this.currentPage=d(this.currentPage,1);this.fullHeight=e;u.attr({height:n});if(!c)this.nav=c=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,l,l).on("click",function(){t.scroll(-1,f)}).add(c),this.pager=r.text("",15,10).css(a.style).add(c),this.down=r.symbol("triangle-down",0,0,l,l).on("click",function(){t.scroll(1,f)}).add(c);t.scroll(0);e=s}else if(c)u.attr({height:n.chartHeight}),c.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0;return e},scroll:function(e,t){var n=this.pageCount,r=this.currentPage+e,i=this.clipHeight,s=this.options.navigation,o=s.activeColor,u=s.inactiveColor,s=this.pager,a=this.padding;r>n&&(r=n);if(r>0)t!==V&&D(t,this.chart),this.nav.attr({translateX:a,translateY:i+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:r===1?u:o}).css({cursor:r===1?"default":"pointer"}),s.attr({text:r+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===n?u:o}).css({cursor:r===n?"default":"pointer"}),i=-et(i*(r-1),this.fullHeight-i+a)+1,this.scrollGroup.animate({translateY:i}),s.attr({text:r+"/"+n}),this.currentPage=r,this.positionCheckboxes(i)}};z.prototype={init:function(e,n){var r,i=e.series;e.series=null;r=t(St,e);r.series=e.series=i;var i=r.chart,o=i.margin,o=s(o)?o:[o,o,o,o];this.optionsMarginTop=d(i.marginTop,o[0]);this.optionsMarginRight=d(i.marginRight,o[1]);this.optionsMarginBottom=d(i.marginBottom,o[2]);this.optionsMarginLeft=d(i.marginLeft,o[3]);this.runChartClick=(o=i.events)&&!!o.click;this.bounds={h:{},v:{}};this.callback=n;this.isResizing=0;this.options=r;this.axes=[];this.series=[];this.hasCartesianSeries=i.showAxes;var u=this,a;u.index=Lt.length;Lt.push(u);i.reflow!==!1&&ln(u,"load",function(){u.initReflow()});if(o)for(a in o)ln(u,a,o[a]);u.xAxis=[];u.yAxis=[];u.animation=mt?!1:d(i.animation,!0);u.pointCount=0;u.counters=new N;u.firstRender()},initSeries:function(e){var t=this.options.chart;(t=Zt[e.type||t.type||t.defaultSeriesType])||M(17,!0);t=new t;t.init(this,e);return t},addSeries:function(e,t,n){var r,i=this;e&&(t=d(t,!0),hn(i,"addSeries",{options:e},function(){r=i.initSeries(e);i.isDirtyLegend=!0;t&&i.redraw(n)}));return r},addAxis:function(e,n,r,i){var n=n?"xAxis":"yAxis",s=this.options;new I(this,t(e,{index:this[n].length}));s[n]=p(s[n]||{});s[n].push(e);d(r,!0)&&this.redraw(i)},isInsidePlot:function(e,t,n){var r=n?t:e,e=n?e:t;return r>=0&&r<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&on(this.axes,function(e){e.adjustTickAmount()});this.maxTicks=null},redraw:function(e){var t=this.axes,n=this.series,r=this.pointer,i=this.legend,s=this.isDirtyLegend,o,u=this.isDirtyBox,a=n.length,f=a,l=this.renderer,c=l.isHidden(),h=[];D(e,this);for(c&&this.cloneRenderTo();f--;)if(e=n[f],e.isDirty&&e.options.stacking){o=!0;break}if(o)for(f=a;f--;)if(e=n[f],e.options.stacking)e.isDirty=!0;on(n,function(e){e.isDirty&&e.options.legendType==="point"&&(s=!0)});if(s&&i.options.enabled)i.render(),this.isDirtyLegend=!1;if(this.hasCartesianSeries){if(!this.isResizing)this.maxTicks=null,on(t,function(e){e.setScale()});this.adjustTickAmounts();this.getMargins();on(t,function(e){if(e.isDirtyExtremes)e.isDirtyExtremes=!1,h.push(function(){hn(e,"afterSetExtremes",e.getExtremes())});if(e.isDirty||u||o)e.redraw(),u=!0})}u&&this.drawChartBox();on(n,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()});r&&r.reset&&r.reset(!0);l.draw();hn(this,"redraw");c&&this.cloneRenderTo(!0);on(h,function(e){e.call()})},showLoading:function(t){var n=this.options,r=this.loadingDiv,i=n.loading;if(!r)this.loadingDiv=r=m(At,{className:"highcharts-loading"},e(i.style,{zIndex:10,display:Ot}),this.container),this.loadingSpan=m("span",null,i.labelStyle,r);this.loadingSpan.innerHTML=t||n.lang.loading;if(!this.loadingShown)v(r,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),dn(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),this.loadingShown=!0},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&dn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){v(t,{display:Ot})}});this.loadingShown=!1},get:function(e){var t=this.axes,n=this.series,r,i;for(r=0;r<t.length;r++)if(t[r].options.id===e)return t[r];for(r=0;r<n.length;r++)if(n[r].options.id===e)return n[r];for(r=0;r<n.length;r++){i=n[r].points||[];for(t=0;t<i.length;t++)if(i[t].id===e)return i[t]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=p(t.xAxis||{}),t=t.yAxis=p(t.yAxis||{});on(n,function(e,t){e.index=t;e.isX=!0});on(t,function(e,t){e.index=t});n=n.concat(t);on(n,function(t){new I(e,t)});e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];on(this.series,function(t){e=e.concat(un(t.points||[],function(e){return e.selected}))});return e},getSelectedSeries:function(){return un(this.series,function(e){return e.selected})},showResetZoom:function(){var e=this,t=St.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,s)},zoomOut:function(){var e=this;hn(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n=this.pointer,r=!1,i;!e||e.resetSelection?on(this.axes,function(e){t=e.zoom()}):on(e.xAxis.concat(e.yAxis),function(e){var i=e.axis,s=i.isXAxis;if(n[s?"zoomX":"zoomY"]||n[s?"pinchX":"pinchY"])t=i.zoom(e.min,e.max),i.displayBtn&&(r=!0)});i=this.resetZoomButton;if(r&&!i)this.showResetZoom();else if(!r&&s(i))this.resetZoomButton=i.destroy();t&&this.redraw(d(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e){var t=this.xAxis[0],n=this.mouseDownX,r=t.pointRange/2,i=t.getExtremes(),s=t.translate(n-e,!0)+r,n=t.translate(n+this.plotWidth-e,!0)-r;(r=this.hoverPoints)&&on(r,function(e){e.setState()});t.series.length&&s>et(i.dataMin,i.min)&&n<Z(i.dataMax,i.max)&&t.setExtremes(s,n,!0,!1,{trigger:"pan"});this.mouseDownX=e;v(this.container,{cursor:"move"})},setTitle:function(e,n){var r;var i=this,s=i.options,o;o=s.title=t(s.title,e);r=s.subtitle=t(s.subtitle,n),s=r;on([["title",e,o],["subtitle",n,s]],function(e){var t=e[0],n=i[t],r=e[1],e=e[2];n&&r&&(i[t]=n=n.destroy());e&&e.text&&!n&&(i[t]=i.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add().align(e,!1,"spacingBox"))})},getChartSize:function(){var e=this.options.chart,t=this.renderToClone||this.renderTo;this.containerWidth=nn(t,"width");this.containerHeight=nn(t,"height");this.chartWidth=Z(0,e.width||this.containerWidth||600);this.chartHeight=Z(0,d(e.height,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),O(t),delete this.renderToClone):(n&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),v(t,{position:"absolute",top:"-9999px",display:"block"}),$.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var t,n=this.options.chart,s,o,u;this.renderTo=t=n.renderTo;u="highcharts-"+wt++;if(i(t))this.renderTo=t=$.getElementById(t);t||M(13,!0);s=r(h(t,"data-highcharts-chart"));!isNaN(s)&&Lt[s]&&Lt[s].destroy();h(t,"data-highcharts-chart",this.index);t.innerHTML="";t.offsetWidth||this.cloneRenderTo();this.getChartSize();s=this.chartWidth;o=this.chartHeight;this.container=t=m(At,{className:"highcharts-container"+(n.className?" "+n.className:""),id:u},e({position:"relative",overflow:"hidden",width:s+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0},n.style),this.renderToClone||t);this._cursor=t.style.cursor;this.renderer=n.forExport?new yn(t,s,o,!0):new gt(t,s,o);mt&&this.renderer.create(this,t,s,o)},getMargins:function(){var e=this.options.chart,t=e.spacingTop,n=e.spacingRight,r=e.spacingBottom,e=e.spacingLeft,i,s=this.legend,o=this.optionsMarginTop,u=this.optionsMarginLeft,a=this.optionsMarginRight,f=this.optionsMarginBottom,l=this.options.title,h=this.options.subtitle,p=this.options.legend,v=d(p.margin,10),m=p.x,g=p.y,y=p.align,b=p.verticalAlign;this.resetMargins();i=this.axisOffset;if((this.title||this.subtitle)&&!c(this.optionsMarginTop))if(h=Z(this.title&&!l.floating&&!l.verticalAlign&&l.y||0,this.subtitle&&!h.floating&&!h.verticalAlign&&h.y||0))this.plotTop=Z(this.plotTop,h+d(l.margin,15)+t);if(s.display&&!p.floating)if(y==="right"){if(!c(a))this.marginRight=Z(this.marginRight,s.legendWidth-m+v+n)}else if(y==="left"){if(!c(u))this.plotLeft=Z(this.plotLeft,s.legendWidth+m+v+e)}else if(b==="top"){if(!c(o))this.plotTop=Z(this.plotTop,s.legendHeight+g+v+t)}else if(b==="bottom"&&!c(f))this.marginBottom=Z(this.marginBottom,s.legendHeight-g+v+r);this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&on(this.axes,function(e){e.getOffset()});c(u)||(this.plotLeft+=i[3]);c(o)||(this.plotTop+=i[0]);c(f)||(this.marginBottom+=i[2]);c(a)||(this.marginRight+=i[1]);this.setChartSize()},initReflow:function(){function e(e){var s=n.width||nn(r,"width"),o=n.height||nn(r,"height"),e=e?e.target:J;if(!t.hasUserSize&&s&&o&&(e===J||e===$)){if(s!==t.containerWidth||o!==t.containerHeight)clearTimeout(i),t.reflowTimeout=i=setTimeout(function(){if(t.container)t.setSize(s,o,!1),t.hasUserSize=null},100);t.containerWidth=s;t.containerHeight=o}}var t=this,n=t.options.chart,r=t.renderTo,i;ln(J,"resize",e);ln(t,"destroy",function(){cn(J,"resize",e)})},setSize:function(e,t,n){var r=this,i,s,o;r.isResizing+=1;o=function(){r&&hn(r,"endResize",null,function(){r.isResizing-=1})};D(n,r);r.oldChartHeight=r.chartHeight;r.oldChartWidth=r.chartWidth;if(c(e))r.chartWidth=i=Z(0,Q(e)),r.hasUserSize=!!i;if(c(t))r.chartHeight=s=Z(0,Q(t));v(r.container,{width:i+"px",height:s+"px"});r.setChartSize(!0);r.renderer.setSize(i,s,n);r.maxTicks=null;on(r.axes,function(e){e.isDirty=!0;e.setScale()});on(r.series,function(e){e.isDirty=!0});r.isDirtyLegend=!0;r.isDirtyBox=!0;r.getMargins();r.redraw(n);r.oldChartHeight=null;hn(r,"resize");Tt===!1?o():setTimeout(o,Tt&&Tt.duration||500)},setChartSize:function(e){var t=this.inverted,n=this.renderer,r=this.chartWidth,i=this.chartHeight,s=this.options.chart,o=s.spacingTop,u=s.spacingRight,a=s.spacingBottom,f=s.spacingLeft,l=this.clipOffset,c,h,p,d;this.plotLeft=c=Q(this.plotLeft);this.plotTop=h=Q(this.plotTop);this.plotWidth=p=Z(0,Q(r-c-this.marginRight));this.plotHeight=d=Z(0,Q(i-h-this.marginBottom));this.plotSizeX=t?d:p;this.plotSizeY=t?p:d;this.plotBorderWidth=t=s.plotBorderWidth||0;this.spacingBox=n.spacingBox={x:f,y:o,width:r-f-u,height:i-o-a};this.plotBox=n.plotBox={x:c,y:h,width:p,height:d};n=Y(Z(t,l[3])/2);r=Y(Z(t,l[0])/2);this.clipBox={x:n,y:r,width:G(this.plotSizeX-Z(t,l[1])/2-n),height:G(this.plotSizeY-Z(t,l[2])/2-r)};e||on(this.axes,function(e){e.setAxisSize();e.setAxisTranslation()})},resetMargins:function(){var e=this.options.chart,t=e.spacingRight,n=e.spacingBottom,r=e.spacingLeft;this.plotTop=d(this.optionsMarginTop,e.spacingTop);this.marginRight=d(this.optionsMarginRight,t);this.marginBottom=d(this.optionsMarginBottom,n);this.plotLeft=d(this.optionsMarginLeft,r);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this.options.chart,t=this.renderer,n=this.chartWidth,r=this.chartHeight,i=this.chartBackground,s=this.plotBackground,o=this.plotBorder,u=this.plotBGImage,a=e.borderWidth||0,f=e.backgroundColor,l=e.plotBackgroundColor,c=e.plotBackgroundImage,h=e.plotBorderWidth||0,p,d=this.plotLeft,v=this.plotTop,m=this.plotWidth,g=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;p=a+(e.shadow?8:0);if(a||f)if(i)i.animate(i.crisp(null,null,null,n-p,r-p));else{i={fill:f||Ot};if(a)i.stroke=e.borderColor,i["stroke-width"]=a;this.chartBackground=t.rect(p/2,p/2,n-p,r-p,e.borderRadius,a).attr(i).add().shadow(e.shadow)}if(l)s?s.animate(y):this.plotBackground=t.rect(d,v,m,g,0).attr({fill:l}).add().shadow(e.plotShadow);if(c)u?u.animate(y):this.plotBGImage=t.image(c,d,v,m,g).add();b?b.animate({width:w.width,height:w.height}):this.clipRect=t.clipRect(w);if(h)o?o.animate(o.crisp(null,d,v,m,g)):this.plotBorder=t.rect(d,v,m,g,0,h).attr({stroke:e.plotBorderColor,"stroke-width":h,zIndex:1}).add();this.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;on(["inverted","angular","polar"],function(o){n=Zt[t.type||t.defaultSeriesType];s=e[o]||t[o]||n&&n.prototype[o];for(i=r&&r.length;!s&&i--;)(n=Zt[r[i].type])&&n.prototype[o]&&(s=!0);e[o]=s})},render:function(){var t=this,n=t.axes,i=t.renderer,s=t.options,o=s.labels,u=s.credits,a;t.setTitle();t.legend=new U(t,s.legend);on(n,function(e){e.setScale()});t.getMargins();t.maxTicks=null;on(n,function(e){e.setTickPositions(!0);e.setMaxTicks()});t.adjustTickAmounts();t.getMargins();t.drawChartBox();t.hasCartesianSeries&&on(n,function(e){e.render()});if(!t.seriesGroup)t.seriesGroup=i.g("series-group").attr({zIndex:3}).add();on(t.series,function(e){e.translate();e.setTooltipPoints();e.render()});o.items&&on(o.items,function(n){var s=e(o.style,n.style),u=r(s.left)+t.plotLeft,a=r(s.top)+t.plotTop+12;delete s.left;delete s.top;i.text(n.html,u,a).attr({zIndex:2}).css(s).add()});if(u.enabled&&!t.credits)a=u.href,t.credits=i.text(u.text,0,0).on("click",function(){if(a)location.href=a}).attr({align:u.position.align,zIndex:8}).css(u.style).add().align(u.position);t.hasRendered=!0},destroy:function(){var e=this,t=e.axes,n=e.series,r=e.container,i,s=r&&r.parentNode;hn(e,"destroy");Lt[e.index]=V;e.renderTo.removeAttribute("data-highcharts-chart");cn(e);for(i=t.length;i--;)t[i]=t[i].destroy();for(i=n.length;i--;)n[i]=n[i].destroy();on("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())});if(r)r.innerHTML="",cn(r),s&&O(r);for(i in e)delete e[i]},isReadyToRender:function(){var e=this;return!dt&&J==J.top&&$.readyState!=="complete"||mt&&!J.canvg?(mt?En.push(function(){e.firstRender()},e.options.global.canvasToolsURL):$.attachEvent("onreadystatechange",function(){$.detachEvent("onreadystatechange",e.firstRender);$.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;if(e.isReadyToRender())e.getContainer(),hn(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),on(t.series||[],function(t){e.initSeries(t)}),hn(e,"beforeRender"),e.pointer=new R(e,t),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),on(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),hn(e,"load")}};z.prototype.callbacks=[];var Sn=function(){};Sn.prototype={init:function(e,t,n){this.series=e;this.applyOptions(t,n);this.pointAttr={};if(e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length))e.colorCounter=0;e.chart.pointCount++;return this},applyOptions:function(t,n){var r=this.series,i=r.pointValKey,t=Sn.prototype.optionsToObject.call(this,t);e(this,t);this.options=this.options?e(this.options,t):t;if(i)this.y=this[i];if(this.x===V&&r)this.x=n===V?r.autoIncrement():n;return this},optionsToObject:function(e){var t,n=this.series,r=n.pointArrayMap||["y"],i=r.length,s=0,u=0;if(typeof e==="number"||e===null)t={y:e};else if(o(e)){t={};if(e.length>i){n=typeof e[0];if(n==="string")t.name=e[0];else if(n==="number")t.x=e[0];s++}for(;u<i;)t[r[u++]]=e[s++]}else if(typeof e==="object"){t=e;if(e.dataLabels)n._hasPointLabels=!0;if(e.marker)n._hasPointMarkers=!0}return t},destroy:function(){var e=this.series.chart,t=e.hoverPoints,n;e.pointCount--;if(t&&(this.setState(),l(t,this),!t.length))e.hoverPoints=null;if(this===e.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel)cn(this),this.destroyElements();this.legendItem&&e.legend.destroyItem(this);for(n in this)this[n]=null},destroyElements:function(){for(var e="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),t,n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(e,t){var n=this,r=n.series,i=r.chart,e=d(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e;r.options.data[sn(n,r.data)]=n.options;n.setState(e&&"select");t||on(i.getSelectedPoints(),function(e){if(e.selected&&e!==n)e.selected=e.options.selected=!1,r.options.data[sn(e,r.data)]=e.options,e.setState(""),e.firePointEvent("unselect")})})},onMouseOver:function(e){var t=this.series,n=t.chart,r=n.tooltip,i=n.hoverPoint;if(i&&i!==this)i.onMouseOut();this.firePointEvent("mouseOver");r&&(!r.shared||t.noSharedTooltip)&&r.refresh(this,e);this.setState("hover");n.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;if(!t||sn(this,t)===-1)this.firePointEvent("mouseOut"),this.setState(),e.hoverPoint=null},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=d(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";on(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s)e=e.replace(t+"}",i+t+"}"+s);e=e.replace(t+"}",t+":,."+r+"f}")});return E(e,{point:this,series:this.series})},update:function(e,t,n){var r=this,i=r.series,o=r.graphic,u,a=i.data,f=i.chart,t=d(t,!0);r.firePointEvent("update",{options:e},function(){r.applyOptions(e);s(e)&&(i.getAttribs(),o&&o.attr(r.pointAttr[i.state]));u=sn(r,a);i.xData[u]=r.x;i.yData[u]=i.toYData?i.toYData(r):r.y;i.zData[u]=r.z;i.options.data[u]=r.options;i.isDirty=!0;i.isDirtyData=!0;t&&f.redraw(n)})},remove:function(e,t){var n=this,r=n.series,i=r.chart,s,o=r.data;D(t,i);e=d(e,!0);n.firePointEvent("remove",null,function(){s=sn(n,o);o.splice(s,1);r.options.data.splice(s,1);r.xData.splice(s,1);r.yData.splice(s,1);r.zData.splice(s,1);n.destroy();r.isDirty=!0;r.isDirtyData=!0;e&&i.redraw()})},firePointEvent:function(e,t,n){var r=this,i=this.series.options;(i.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents();e==="click"&&i.allowPointSelect&&(n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)});hn(this,e,t,n)},importEvents:function(){if(!this.hasImportedEvents){var e=t(this.series.options.point,this.options).events,n;this.events=e;for(n in e)ln(this,n,e[n]);this.hasImportedEvents=!0}},setState:function(e){var n=this.plotX,r=this.plotY,i=this.series,s=i.options.states,o=mn[i.type].marker&&i.options.marker,u=o&&!o.enabled,a=o&&o.states[e],f=a&&a.enabled===!1,l=i.stateMarkerGraphic,c=this.marker||{},h=i.chart,p=this.pointAttr,e=e||"";if(!(e===this.state||this.selected&&e!=="select"||s[e]&&s[e].enabled===!1||e&&(f||u&&!a.enabled))){if(this.graphic)s=o&&this.graphic.symbolName&&p[e].r,this.graphic.attr(t(p[e],s?{x:n-s,y:r-s,width:2*s,height:2*s}:{}));else{if(e&&a)s=a.radius,c=c.symbol||i.symbol,l&&l.currentSymbol!==c&&(l=l.destroy()),l?l.attr({x:n-s,y:r-s}):(i.stateMarkerGraphic=l=h.renderer.symbol(c,n-s,r-s,2*s,2*s).attr(p[e]).add(i.markerGroup),l.currentSymbol=c);if(l)l[e&&h.isInsidePlot(n,r)?"show":"hide"]()}this.state=e}}};var xn=function(){};xn.prototype={isCartesian:!0,type:"line",pointClass:Sn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(t,n){var r,s,o=t.series;this.chart=t;this.options=n=this.setOptions(n);this.bindAxes();e(this,{name:n.name,state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0});if(mt)n.animation=!1;s=n.events;for(r in s)ln(this,r,s[r]);if(s&&s.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)t.runTrackerClick=!0;this.getColor();this.getSymbol();this.setData(n.data,!1);if(this.isCartesian)t.hasCartesianSeries=!0;o.push(this);this._i=o.length-1;C(o,function(e,t){return d(e.options.index,e._i)-d(t.options.index,e._i)});on(o,function(e,t){e.index=t;e.name=e.name||"Series "+(t+1)});r=n.linkedTo;this.linkedSeries=[];if(i(r)&&(r=r===":previous"?o[this.index-1]:t.get(r)))r.linkedSeries.push(this),this.linkedParent=r},bindAxes:function(){var e=this,t=e.options,n=e.chart,r;e.isCartesian&&on(["xAxis","yAxis"],function(i){on(n[i],function(n){r=n.options;if(t[i]===r.index||t[i]!==V&&t[i]===r.id||t[i]===V&&r.index===0)n.series.push(e),e[i]=n,n.isDirty=!0});e[i]||M(17,!0)})},autoIncrement:function(){var e=this.options,t=this.xIncrement,t=d(t,e.pointStart,0);this.pointInterval=d(this.pointInterval,e.pointInterval,1);this.xIncrement=t+this.pointInterval;return t},getSegments:function(){var e=-1,t=[],n,r=this.points,i=r.length;if(i)if(this.options.connectNulls){for(n=i;n--;)r[n].y===null&&r.splice(n,1);r.length&&(t=[r])}else on(r,function(n,s){n.y===null?(s>e+1&&t.push(r.slice(e+1,s)),e=s):s===i-1&&t.push(r.slice(e+1,s+1))});this.segments=t},setOptions:function(e){var n=this.chart.options,r=n.plotOptions,i=r[this.type];this.userOptions=e;e=t(i,r.series,e);this.tooltipOptions=t(n.tooltip,e.tooltip);i.marker===null&&delete e.marker;return e},getColor:function(){var e=this.options,t=this.userOptions,n=this.chart.options.colors,r=this.chart.counters,i;i=e.color||mn[this.type].color;if(!i&&!e.colorByPoint)c(t._colorIndex)?e=t._colorIndex:(t._colorIndex=r.color,e=r.color++),i=n[e];this.color=i;r.wrapColor(n.length)},getSymbol:function(){var e=this.userOptions,t=this.options.marker,n=this.chart,r=n.options.symbols,n=n.counters;this.symbol=t.symbol;if(!this.symbol)c(e._symbolIndex)?e=e._symbolIndex:(e._symbolIndex=n.symbol,e=n.symbol++),this.symbol=r[e];if(/^url/.test(this.symbol))t.radius=0;n.wrapSymbol(r.length)},drawLegendSymbol:function(e){var t=this.options,n=t.marker,r=e.options.symbolWidth,i=this.chart.renderer,s=this.legendGroup,e=e.baseline,o;if(t.lineWidth){o={"stroke-width":t.lineWidth};if(t.dashStyle)o.dashstyle=t.dashStyle;this.legendLine=i.path(["M",0,e-4,"L",r,e-4]).attr(o).add(s)}if(n&&n.enabled)t=n.radius,this.legendSymbol=i.symbol(this.symbol,r/2-t,e-4-t,2*t,2*t).add(s)},addPoint:function(e,t,n,r){var i=this.options,s=this.data,o=this.graph,u=this.area,a=this.chart,f=this.xData,l=this.yData,c=this.zData,h=this.names,p=o&&o.shift||0,v=i.data;D(r,a);if(o&&n)o.shift=p+1;if(u){if(n)u.shift=p+1;u.isArea=!0}t=d(t,!0);r={series:this};this.pointClass.prototype.applyOptions.apply(r,[e]);f.push(r.x);l.push(this.toYData?this.toYData(r):r.y);c.push(r.z);if(h)h[r.x]=r.name;v.push(e);i.legendType==="point"&&this.generatePoints();n&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),f.shift(),l.shift(),c.shift(),v.shift()));this.getAttribs();this.isDirtyData=this.isDirty=!0;t&&a.redraw()},setData:function(e,t){var n=this.points,r=this.options,s=this.chart,a=null,f=this.xAxis,l=f&&f.categories&&!f.categories.length?[]:null,c;this.xIncrement=null;this.pointRange=f&&f.categories?1:r.pointRange;this.colorCounter=0;var h=[],p=[],v=[],m=e?e.length:[],g=(c=this.pointArrayMap)&&c.length,y=!!this.toYData;if(m>(r.turboThreshold||1e3)){for(c=0;a===null&&c<m;)a=e[c],c++;if(u(a)){a=d(r.pointStart,0);r=d(r.pointInterval,1);for(c=0;c<m;c++)h[c]=a,p[c]=e[c],a+=r;this.xIncrement=a}else if(o(a))if(g)for(c=0;c<m;c++)r=e[c],h[c]=r[0],p[c]=r.slice(1,g+1);else for(c=0;c<m;c++)r=e[c],h[c]=r[0],p[c]=r[1]}else for(c=0;c<m;c++)if(e[c]!==V&&(r={series:this},this.pointClass.prototype.applyOptions.apply(r,[e[c]]),h[c]=r.x,p[c]=y?this.toYData(r):r.y,v[c]=r.z,l&&r.name))l[c]=r.name;this.requireSorting&&h.length>1&&h[1]<h[0]&&M(15);i(p[0])&&M(14,!0);this.data=[];this.options.data=e;this.xData=h;this.yData=p;this.zData=v;this.names=l;for(c=n&&n.length||0;c--;)n[c]&&n[c].destroy&&n[c].destroy();if(f)f.minRange=f.userMinRange;this.isDirty=this.isDirtyData=s.isDirtyBox=!0;d(t,!0)&&s.redraw(!1)},remove:function(e,t){var n=this,r=n.chart,e=d(e,!0);if(!n.isRemoving)n.isRemoving=!0,hn(n,"remove",null,function(){n.destroy();r.isDirtyLegend=r.isDirtyBox=!0;e&&r.redraw(t)});n.isRemoving=!1},processData:function(e){var t=this.xData,n=this.yData,r=t.length,i=0,s=r,o,u,a=this.xAxis,f=this.options,l=f.cropThreshold,c=this.isCartesian;if(c&&!this.isDirty&&!a.isDirty&&!this.yAxis.isDirty&&!e)return!1;if(c&&this.sorted&&(!l||r>l||this.forceCrop))if(e=a.getExtremes(),a=e.min,l=e.max,t[r-1]<a||t[0]>l)t=[],n=[];else if(t[0]<a||t[r-1]>l){for(e=0;e<r;e++)if(t[e]>=a){i=Z(0,e-1);break}for(;e<r;e++)if(t[e]>l){s=e+1;break}t=t.slice(i,s);n=n.slice(i,s);o=!0}for(e=t.length-1;e>0;e--)if(r=t[e]-t[e-1],r>0&&(u===V||r<u))u=r;this.cropped=o;this.cropStart=i;this.processedXData=t;this.processedYData=n;if(f.pointRange===null)this.pointRange=u||1;this.closestPointRange=u},generatePoints:function(){var e=this.options.data,t=this.data,n,r=this.processedXData,i=this.processedYData,s=this.pointClass,o=r.length,u=this.cropStart||0,a,f=this.hasGroupedData,l,c=[],h;if(!t&&!f)t=[],t.length=e.length,t=this.data=t;for(h=0;h<o;h++)a=u+h,f?c[h]=(new s).init(this,[r[h]].concat(p(i[h]))):(t[a]?l=t[a]:e[a]!==V&&(t[a]=l=(new s).init(this,e[a],r[h])),c[h]=l);if(t&&(o!==(n=t.length)||f))for(h=0;h<n;h++)if(h===u&&!f&&(h+=o),t[h])t[h].destroyElements(),t[h].plotX=V;this.data=t;this.points=c},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var e=this.options,t=e.stacking,n=this.xAxis,r=n.categories,i=this.yAxis,s=this.points,o=s.length,u=!!this.modifyValue,a,f=i.series,l=f.length,h=e.pointPlacement==="between",e=e.threshold;l--;)if(f[l].visible){f[l]===this&&(a=!0);break}for(l=0;l<o;l++){var f=s[l],p=f.x,v=f.y,m=f.low,g=i.stacks[(v<e?"-":"")+this.stackKey];if(i.isLog&&v<=0)f.y=v=null;f.plotX=n.translate(p,0,0,0,1,h);if(t&&this.visible&&g&&g[p])m=g[p],g=m.total,m.cum=m=m.cum-v,v=m+v,a&&(m=d(e,i.min)),i.isLog&&m<=0&&(m=null),t==="percent"&&(m=g?m*100/g:0,v=g?v*100/g:0),f.percentage=g?f.y*100/g:0,f.total=f.stackTotal=g,f.stackY=v;f.yBottom=c(m)?i.translate(m,0,1,0,1):null;u&&(v=this.modifyValue(v,f));f.plotY=typeof v==="number"&&v!==Infinity?Q(i.translate(v,0,1,0,1)*10)/10:V;f.clientX=h?n.translate(p,0,0,0,1):f.plotX;f.negative=f.y<(e||0);f.category=r&&r[f.x]!==V?r[f.x]:f.x}this.getSegments()},setTooltipPoints:function(e){var t=[],n,r,i=(n=this.xAxis)?n.tooltipLen||n.len:this.chart.plotSizeX,s,o,u=[];if(this.options.enableMouseTracking!==!1){if(e)this.tooltipPoints=null;on(this.segments||this.points,function(e){t=t.concat(e)});n&&n.reversed&&(t=t.reverse());e=t.length;for(o=0;o<e;o++){s=t[o];n=t[o-1]?r+1:0;for(r=t[o+1]?Z(0,G((s.clientX+(t[o+1]?t[o+1].clientX:i))/2)):i;n>=0&&n<=r;)u[n++]=s}this.tooltipPoints=u}},tooltipHeaderFormatter:function(e){var t=this.tooltipOptions,n=t.xDateFormat,r=this.xAxis,i=r&&r.options.type==="datetime",s=t.headerFormat,o;if(i&&!n)for(o in Ct)if(Ct[o]>=r.closestPointRange){n=t.dateTimeLabelFormats[o];break}i&&n&&u(e.key)&&(s=s.replace("{point.key}","{point.key:"+n+"}"));return E(s,{point:e,series:this})},onMouseOver:function(){var e=this.chart,t=e.hoverSeries;if(t&&t!==this)t.onMouseOut();this.options.events.mouseOver&&hn(this,"mouseOver");this.setState("hover");e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,r=t.hoverPoint;if(r)r.onMouseOut();this&&e.events.mouseOut&&hn(this,"mouseOut");n&&!e.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide();this.setState();t.hoverSeries=null},animate:function(t){var n=this,r=n.chart,i=r.renderer,o;o=n.options.animation;var u=r.clipBox,a=r.inverted,f;if(o&&!s(o))o=mn[n.type].animation;f="_sharedClip"+o.duration+o.easing;if(t)t=r[f],o=r[f+"m"],t||(r[f]=t=i.clipRect(e(u,{width:0})),r[f+"m"]=o=i.clipRect(-99,a?-r.plotLeft:-r.plotTop,99,a?r.chartWidth:r.chartHeight)),n.group.clip(t),n.markerGroup.clip(o),n.sharedClipKey=f;else{if(t=r[f])t.animate({width:r.plotSizeX},o),r[f+"m"].animate({width:r.plotSizeX+99},o);n.animate=null;n.animationTimeout=setTimeout(function(){n.afterAnimate()},o.duration)}},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group;n&&this.options.clip!==!1&&(n.clip(e.clipRect),this.markerGroup.clip());setTimeout(function(){t&&e[t]&&(e[t]=e[t].destroy(),e[t+"m"]=e[t+"m"].destroy())},100)},drawPoints:function(){var t,n=this.points,r=this.chart,i,s,o,u,a,f,l,c,h=this.options.marker,p,v=this.markerGroup;if(h.enabled||this._hasPointMarkers)for(o=n.length;o--;)if(u=n[o],i=u.plotX,s=u.plotY,c=u.graphic,f=u.marker||{},t=h.enabled&&f.enabled===V||f.enabled,p=r.isInsidePlot(i,s,r.inverted),t&&s!==V&&!isNaN(s)&&u.y!==null)if(t=u.pointAttr[u.selected?"select":""],a=t.r,f=d(f.symbol,this.symbol),l=f.indexOf("url")===0,c)c.attr({visibility:p?dt?"inherit":"visible":"hidden"}).animate(e({x:i-a,y:s-a},c.symbolName?{width:2*a,height:2*a}:{}));else{if(p&&(a>0||l))u.graphic=r.renderer.symbol(f,i-a,s-a,2*a,2*a).attr(t).add(v)}else if(c)u.graphic=c.destroy()},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={},e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=d(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var t=this,n=t.options,r=mn[t.type].marker?n.marker:n,i=r.states,s=i.hover,o,u=t.color,a={stroke:u,fill:u},f=t.points||[],l=[],h,p=t.pointAttrToOptions,d=n.negativeColor,v;n.marker?(s.radius=s.radius||r.radius+2,s.lineWidth=s.lineWidth||r.lineWidth+1):s.color=s.color||gn(s.color||u).brighten(s.brightness).get();l[""]=t.convertAttribs(r,a);on(["hover","select"],function(e){l[e]=t.convertAttribs(i[e],l[""])});t.pointAttr=l;for(u=f.length;u--;){a=f[u];if((r=a.options&&a.options.marker||a.options)&&r.enabled===!1)r.radius=0;if(a.negative&&d)a.color=a.fillColor=d;o=n.colorByPoint||a.color;if(a.options)for(v in p)c(r[p[v]])&&(o=!0);if(o){r=r||{};h=[];i=r.states||{};o=i.hover=i.hover||{};if(!n.marker)o.color=gn(o.color||a.color).brighten(o.brightness||s.brightness).get();h[""]=t.convertAttribs(e({color:a.color},r),l[""]);h.hover=t.convertAttribs(i.hover,l.hover,h[""]);h.select=t.convertAttribs(i.select,l.select,h[""]);if(a.negative&&n.marker)h[""].fill=h.hover.fill=h.select.fill=t.convertAttribs({fillColor:d}).fill}else h=l;a.pointAttr=h}},update:function(n,r){var i=this.chart,s=this.type,n=t(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},n);this.remove(!1);e(this,Zt[n.type||s].prototype);this.init(i,n);d(r,!0)&&i.redraw(!1)},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(ot),r,i,s=e.data||[],o,u,a;hn(e,"destroy");cn(e);on(["xAxis","yAxis"],function(t){if(a=e[t])l(a.series,e),a.isDirty=a.forceRedraw=!0});e.legendItem&&e.chart.legend.destroyItem(e);for(i=s.length;i--;)(o=s[i])&&o.destroy&&o.destroy();e.points=null;clearTimeout(e.animationTimeout);on("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(t){e[t]&&(r=n&&t==="group"?"hide":"destroy",e[t][r]())});if(t.hoverSeries===e)t.hoverSeries=null;l(t.series,e);for(u in e)delete e[u]},drawDataLabels:function(){var e=this,n=e.options.dataLabels,r=e.points,i,s,o,u;if(n.enabled||e._hasPointLabels)e.dlProcessOptions&&e.dlProcessOptions(n),u=e.plotGroup("dataLabelsGroup","data-labels",e.visible?"visible":"hidden",n.zIndex||6),s=n,on(r,function(r){var a,f=r.dataLabel,l,h,p=r.connector,v=!0;i=r.options&&r.options.dataLabels;a=s.enabled||i&&i.enabled;if(f&&!a)r.dataLabel=f.destroy();else if(a){a=n.rotation;n=t(s,i);l=r.getLabelConfig();o=n.format?E(n.format,l):n.formatter.call(l,n);n.style.color=d(n.color,n.style.color,e.color,"black");if(f)if(c(o))f.attr({text:o}),v=!1;else{if(r.dataLabel=f=f.destroy(),p)r.connector=p.destroy()}else if(c(o)){f={fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth,r:n.borderRadius||0,rotation:a,padding:n.padding,zIndex:1};for(h in f)f[h]===V&&delete f[h];f=r.dataLabel=e.chart.renderer[a?"text":"label"](o,0,-999,null,null,null,n.useHTML).attr(f).css(n.style).add(u).shadow(n.shadow)}f&&e.alignDataLabel(r,f,n,null,v)}})},alignDataLabel:function(t,n,r,i,s){var o=this.chart,u=o.inverted,a=d(t.plotX,-999),t=d(t.plotY,-999),f=n.getBBox(),i=e({x:u?o.plotWidth-t:a,y:Q(u?o.plotHeight-a:t),width:0,height:0},i);e(r,{width:f.width,height:f.height});r.rotation?(i={align:r.align,x:i.x+r.x+i.width/2,y:i.y+r.y+i.height/2},n[s?"attr":"animate"](i)):n.align(r,null,i);n.attr({visibility:r.crop===!1||o.isInsidePlot(a,t,u)?o.renderer.isSVG?"inherit":"visible":"hidden"})},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;on(e,function(i,s){var o=i.plotX,u=i.plotY,a;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,i,s)):(n.push(s?"L":"M"),r&&s&&(a=e[s-1],r==="right"?n.push(a.plotX,u):r==="center"?n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u):n.push(o,a.plotY)),n.push(i.plotX,i.plotY))});return n},getGraphPath:function(){var e=this,t=[],n,r=[];on(e.segments,function(i){n=e.getSegmentPath(i);i.length>1?t=t.concat(n):r.push(i[0])});e.singlePoints=r;return e.graphPath=t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color]],r=t.lineWidth,i=t.dashStyle,s=this.getGraphPath(),o=t.negativeColor;o&&n.push(["graphNeg",o]);on(n,function(n,o){var u=n[0],a=e[u];if(a)vn(a),a.animate({d:s});else if(r&&s.length){a={stroke:n[1],"stroke-width":r,zIndex:1};if(i)a.dashstyle=i;e[u]=e.chart.renderer.path(s).attr(a).add(e.group).shadow(!o&&t.shadow)}})},clipNeg:function(){var e=this.options,t=this.chart,n=t.renderer,r=e.negativeColor,i,s=this.posClip,o=this.negClip;i=t.chartWidth;var u=t.chartHeight,a=Z(i,u);if(r&&this.graph)r=Y(this.yAxis.len-this.yAxis.translate(e.threshold||0)),e={x:0,y:0,width:a,height:r},a={x:0,y:r,width:a,height:a-r},t.inverted&&n.isVML&&(e={x:t.plotWidth-r-t.plotLeft,y:0,width:i,height:u},a={x:r+t.plotLeft-i,y:0,width:t.plotLeft+r,height:i}),this.yAxis.reversed?(t=a,i=e):(t=e,i=a),s?(s.animate(t),o.animate(i)):(this.posClip=s=n.clipRect(t),this.graph.clip(s),this.negClip=o=n.clipRect(i),this.graphNeg.clip(o),this.area&&(this.area.clip(s),this.areaNeg.clip(o)))},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};on(["group","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;ln(n,"resize",e);ln(t,"destroy",function(){cn(n,"resize",e)});e();t.invertGroups=e},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s,u=this.chart,a=this.xAxis,f=this.yAxis;o&&(this[e]=s=u.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i));s[o?"attr":"animate"]({translateX:a?a.left:u.plotLeft,translateY:f?f.top:u.plotTop,scaleX:1,scaleY:1});return s},render:function(){var e=this.chart,t,n=this.options,r=n.animation&&!!this.animate&&e.renderer.isSVG,i=this.visible?"visible":"hidden",s=n.zIndex,o=this.hasRendered,u=e.seriesGroup;t=this.plotGroup("group","series",i,s,u);this.markerGroup=this.plotGroup("markerGroup","markers",i,s,u);r&&this.animate(!0);this.getAttribs();t.inverted=e.inverted;this.drawGraph&&(this.drawGraph(),this.clipNeg());this.drawDataLabels();this.drawPoints();this.options.enableMouseTracking!==!1&&this.drawTracker();e.inverted&&this.invertGroups();n.clip!==!1&&!this.sharedClipKey&&!o&&t.clip(e.clipRect);r?this.animate():o||this.afterAnimate();this.isDirty=this.isDirtyData=!1;this.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.group,r=this.xAxis,i=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:d(r&&r.left,e.plotLeft),translateY:d(i&&i.top,e.plotTop)}));this.translate();this.setTooltipPoints(!0);this.render();t&&hn(this,"updatedData")},setState:function(e){var t=this.options,n=this.graph,r=this.graphNeg,i=t.states,t=t.lineWidth,e=e||"";if(this.state!==e)this.state=e,i[e]&&i[e].enabled===!1||(e&&(t=i[e].lineWidth||t+1),n&&!n.dashstyle&&(e={"stroke-width":t},n.attr(e),r&&r.attr(e)))},setVisible:function(e,t){var n=this,r=n.chart,i=n.legendItem,s,o=r.options.chart.ignoreHiddenSeries,u=n.visible;s=(n.visible=e=n.userOptions.visible=e===V?!u:e)?"show":"hide";on(["group","dataLabelsGroup","markerGroup","tracker"],function(e){if(n[e])n[e][s]()});if(r.hoverSeries===n)n.onMouseOut();i&&r.legend.colorizeItem(n,e);n.isDirty=!0;n.options.stacking&&on(r.series,function(e){if(e.options.stacking&&e.visible)e.isDirty=!0});on(n.linkedSeries,function(t){t.setVisible(e,!1)});if(o)r.isDirtyBox=!0;t!==!1&&r.redraw();hn(n,s)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===V?!this.selected:e;if(this.checkbox)this.checkbox.checked=e;hn(this,e?"select":"unselect")},drawTracker:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,l=l&&{cursor:l},c=e.singlePoints,h,p=function(){if(s.hoverSeries!==e)e.onMouseOver()};if(i&&!n)for(h=i+1;h--;)r[h]==="M"&&r.splice(h+1,0,r[h+1]-a,r[h+2],"L"),(h&&r[h]==="M"||h===i)&&r.splice(h,0,"L",r[h-2]+a,r[h-1]);for(h=0;h<c.length;h++)i=c[h],r.push("M",i.plotX-a,i.plotY,"L",i.plotX+a,i.plotY);if(f)f.attr({d:r});else if(e.tracker=f=u.path(r).attr({"class":"highcharts-tracker","stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:Mt,fill:n?Mt:Ot,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(l).add(e.markerGroup),yt)f.on("touchstart",p)}};tn=g(xn);Zt.line=tn;mn.area=t(en,{threshold:0});tn=g(xn,{type:"area",getSegments:function(){var e=[],t=[],n=[],r=this.xAxis,i=this.yAxis,s=i.stacks[this.stackKey],o={},u,a,f=this.points,l,c;if(this.options.stacking&&!this.cropped){for(l=0;l<f.length;l++)o[f[l].x]=f[l];for(c in s)n.push(+c);n.sort(function(e,t){return e-t});on(n,function(e){o[e]?t.push(o[e]):(u=r.translate(e),a=i.toPixels(s[e].cum,!0),t.push({y:null,plotX:u,clientX:u,plotY:a,yBottom:a,onMouseOver:kt}))});t.length&&e.push(t)}else xn.prototype.getSegments.call(this),e=this.segments;this.segments=e},getSegmentPath:function(e){var t=xn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options;t.length===3&&n.push("L",t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;r>=0;r--)r<e.length-1&&i.step&&n.push(e[r+1].plotX,e[r].yBottom),n.push(e[r].plotX,e[r].yBottom);else this.closeSegment(n,e);this.areaPath=this.areaPath.concat(n);return t},closeSegment:function(e,t){var n=this.yAxis.getThreshold(this.options.threshold);e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[];xn.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=[["area",this.color,n.fillColor]];n.negativeColor&&r.push(["areaNeg",n.negativeColor,n.negativeFillColor]);on(r,function(r){var i=r[0],s=e[i];s?s.animate({d:t}):e[i]=e.chart.renderer.path(t).attr({fill:d(r[2],gn(r[1]).setOpacity(n.fillOpacity||.75).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:function(e,t){t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,e.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}});Zt.area=tn;mn.spline=t(en);wn=g(xn,{type:"spline",getPointSpline:function(e,t,n){var r=t.plotX,i=t.plotY,s=e[n-1],o=e[n+1],u,a,f,l;if(s&&o){e=s.plotY;f=o.plotX;var o=o.plotY,c;u=(1.5*r+s.plotX)/2.5;a=(1.5*i+e)/2.5;f=(1.5*r+f)/2.5;l=(1.5*i+o)/2.5;c=(l-a)*(f-r)/(f-u)+i-l;a+=c;l+=c;a>e&&a>i?(a=Z(e,i),l=2*i-a):a<e&&a<i&&(a=et(e,i),l=2*i-a);l>o&&l>i?(l=Z(o,i),a=2*i-l):l<o&&l<i&&(l=et(o,i),a=2*i-l);t.rightContX=f;t.rightContY=l}n?(t=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,u||r,a||i,r,i],s.rightContX=s.rightContY=null):t=["M",r,i];return t}});Zt.spline=wn;mn.areaspline=t(mn.area);var Tn=tn.prototype;wn=g(wn,{type:"areaspline",closedStacks:!0,getSegmentPath:Tn.getSegmentPath,closeSegment:Tn.closeSegment,drawGraph:Tn.drawGraph});Zt.areaspline=wn;mn.column=t(en,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});wn=g(xn,{type:"column",tooltipOutsidePlot:!0,requireSorting:!1,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},trackerGroups:["group","dataLabelsGroup"],init:function(){xn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&on(t.series,function(t){if(t.type===e.type)t.isDirty=!0})},getColumnMetrics:function(){var e=this,t=e.chart,n=e.options,r=this.xAxis,i=r.reversed,s,o={},u,a=0;n.grouping===!1?a=1:on(t.series,function(t){var n=t.options;if(t.type===e.type&&t.visible&&e.options.group===n.group)n.stacking?(s=t.stackKey,o[s]===V&&(o[s]=a++),u=o[s]):n.grouping!==!1&&(u=a++),t.columnIndex=u});var t=et(tt(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||1),r.len),r=t*n.groupPadding,f=(t-2*r)/a,l=n.pointWidth,n=c(l)?(f-l)/2:f*n.pointPadding,l=d(l,f-2*n);return e.columnMetrics={width:l,offset:n+(r+((i?a-(e.columnIndex||0):e.columnIndex)||0)*f-t/2)*(i?-1:1)}},translate:function(){var e=this,t=e.chart,n=e.options,r=n.stacking,i=n.borderWidth,s=e.yAxis,o=e.translatedThreshold=s.getThreshold(n.threshold),u=d(n.minPointLength,5),n=e.getColumnMetrics(),a=n.width,f=Y(Z(a,1+2*i)),l=n.offset;xn.prototype.translate.apply(e);on(e.points,function(n){var c=et(Z(-999,n.plotY),s.len+999),h=d(n.yBottom,o),p=n.plotX+l,v=Y(et(c,h)),c=Y(Z(c,h)-v),m=s.stacks[(n.y<0?"-":"")+e.stackKey];r&&e.visible&&m&&m[n.x]&&m[n.x].setOffset(l,f);tt(c)<u&&u&&(c=u,v=tt(v-o)>u?h-u:o-(s.translate(n.y,0,1,0,1)<=o?u:0));n.barX=p;n.pointWidth=a;n.shapeType="rect";n.shapeArgs=n=t.renderer.Element.prototype.crisp.call(0,i,p,v,f,c);i%2&&(n.y-=1,n.height+=1)})},getSymbol:kt,drawLegendSymbol:tn.prototype.drawLegendSymbol,drawGraph:kt,drawPoints:function(){var e=this,n=e.options,r=e.chart.renderer,i;on(e.points,function(s){var o=s.plotY,u=s.graphic;if(o!==V&&!isNaN(o)&&s.y!==null)i=s.shapeArgs,u?(vn(u),u.animate(t(i))):s.graphic=r[s.shapeType](i).attr(s.pointAttr[s.selected?"select":""]).add(e.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius);else if(u)s.graphic=u.destroy()})},drawTracker:function(){var e=this,t=e.chart.pointer,n=e.options.cursor,r=n&&{cursor:n},i=function(t){var n=t.target,r;for(e.onMouseOver();n&&!r;)r=n.point,n=n.parentNode;if(r!==V)r.onMouseOver(t)};on(e.points,function(e){if(e.graphic)e.graphic.element.point=e;if(e.dataLabel)e.dataLabel.element.point=e});e._hasTracking?e._hasTracking=!0:on(e.trackerGroups,function(n){if(e[n]&&(e[n].addClass("highcharts-tracker").on("mouseover",i).on("mouseout",function(e){t.onTrackerMouseOut(e)}).css(r),yt))e[n].on("touchstart",i)})},alignDataLabel:function(e,n,r,i,s){var o=this.chart,u=o.inverted,a=e.dlBox||e.shapeArgs,f=e.below||e.plotY>d(this.translatedThreshold,o.plotSizeY),l=d(r.inside,!!this.options.stacking);if(a&&(i=t(a),u&&(i={x:o.plotWidth-i.y-i.height,y:o.plotHeight-i.x-i.width,width:i.height,height:i.width}),!l))u?(i.x+=f?0:i.width,i.width=0):(i.y+=f?i.height:0,i.height=0);r.align=d(r.align,!u||l?"center":f?"right":"left");r.verticalAlign=d(r.verticalAlign,u||l?"middle":f?"top":"bottom");xn.prototype.alignDataLabel.call(this,e,n,r,i,s)},animate:function(e){var t=this.yAxis,n=this.options,r=this.chart.inverted,i={};if(dt)e?(i.scaleY=.001,e=et(t.pos+t.len,Z(t.pos,t.toPixels(n.threshold))),r?i.translateX=e-t.len:i.translateY=e,this.group.attr(i)):(i.scaleY=1,i[r?"translateX":"translateY"]=t.pos,this.group.animate(i,this.options.animation),this.animate=null)},remove:function(){var e=this,t=e.chart;t.hasRendered&&on(t.series,function(t){if(t.type===e.type)t.isDirty=!0});xn.prototype.remove.apply(e,arguments)}});Zt.column=wn;mn.bar=t(mn.column);Tn=g(wn,{type:"bar",inverted:!0});Zt.bar=Tn;mn.scatter=t(en,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});Tn=g(xn,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],drawTracker:wn.prototype.drawTracker,setTooltipPoints:kt});Zt.scatter=Tn;mn.pie=t(en,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});en={type:"pie",isCartesian:!1,pointClass:g(Sn,{init:function(){Sn.prototype.init.apply(this,arguments);var t=this,n;if(t.y<0)t.y=null;e(t,{visible:t.visible!==!1,name:d(t.name,"Slice")});n=function(){t.slice()};ln(t,"select",n);ln(t,"unselect",n);return t},setVisible:function(e){var t=this,n=t.series,r=n.chart,i;t.visible=t.options.visible=e=e===V?!t.visible:e;n.options.data[sn(t,n.data)]=t.options;i=e?"show":"hide";on(["graphic","dataLabel","connector","shadowGroup"],function(e){if(t[e])t[e][i]()});t.legendItem&&r.legend.colorizeItem(t,e);if(!n.isDirty&&n.options.ignoreHiddenPoint)n.isDirty=!0,r.redraw()},slice:function(e,t,n){var r=this.series;D(n,r.chart);d(t,!0);this.sliced=this.options.sliced=e=c(e)?e:!this.sliced;r.options.data[sn(this,r.data)]=this.options;e=e?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(e);this.shadowGroup&&this.shadowGroup.animate(e)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:kt,animate:function(e){var t=this,n=t.points,r=t.startAngleRad;if(!e)on(n,function(e){var n=e.graphic,e=e.shapeArgs;n&&(n.attr({r:t.center[3]/2,start:r,end:r}),n.animate({r:e.r,start:e.start,end:e.end},t.options.animation))}),t.animate=null},setData:function(e,t){xn.prototype.setData.call(this,e,!1);this.processData();this.generatePoints();d(t,!0)&&this.chart.redraw()},getCenter:function(){var e=this.options,t=this.chart,n=2*(e.slicedOffset||0),i,s=t.plotWidth-2*n,o=t.plotHeight-2*n,t=e.center,e=[d(t[0],"50%"),d(t[1],"50%"),e.size||"100%",e.innerSize||0],u=et(s,o),a;return fn(e,function(e,t){a=/%$/.test(e);i=t<2||t===2&&a;return(a?[s,o,u,u][t]*r(e)/100:e)+(i?n:0)})},translate:function(e){this.generatePoints();var t=0,n=0,r=this.options,i=r.slicedOffset,s=i+r.borderWidth,o,u,a,f=this.startAngleRad=it/180*((r.startAngle||0)%360-90),l=this.points,c=2*it,h=r.dataLabels.distance,p=r.ignoreHiddenPoint,d,v=l.length,m;if(!e)this.center=e=this.getCenter();this.getX=function(t,n){a=K.asin((t-e[1])/(e[2]/2+h));return e[0]+(n?-1:1)*nt(a)*(e[2]/2+h)};for(d=0;d<v;d++)m=l[d],t+=p&&!m.visible?0:m.y;for(d=0;d<v;d++){m=l[d];r=t?m.y/t:0;o=Q((f+n*c)*1e3)/1e3;if(!p||m.visible)n+=r;u=Q((f+n*c)*1e3)/1e3;m.shapeType="arc";m.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:o,end:u};a=(u+o)/2;a>.75*c&&(a-=2*it);m.slicedTranslation={translateX:Q(nt(a)*i),translateY:Q(rt(a)*i)};o=nt(a)*e[2]/2;u=rt(a)*e[2]/2;m.tooltipPos=[e[0]+o*.7,e[1]+u*.7];m.half=a<c/4?0:1;m.angle=a;s=et(s,h/2);m.labelPos=[e[0]+o+nt(a)*h,e[1]+u+rt(a)*h,e[0]+o+nt(a)*s,e[1]+u+rt(a)*s,e[0]+o,e[1]+u,h<0?"center":m.half?"right":"left",a];m.percentage=r*100;m.total=t}this.setTooltipPoints()},drawGraph:null,drawPoints:function(){var t=this,n=t.chart.renderer,r,i,s=t.options.shadow,o,u;if(s&&!t.shadowGroup)t.shadowGroup=n.g("shadow").add(t.group);on(t.points,function(a){i=a.graphic;u=a.shapeArgs;o=a.shadowGroup;if(s&&!o)o=a.shadowGroup=n.g("shadow").add(t.shadowGroup);r=a.sliced?a.slicedTranslation:{translateX:0,translateY:0};o&&o.attr(r);i?i.animate(e(u,r)):a.graphic=i=n.arc(u).setRadialReference(t.center).attr(a.pointAttr[a.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(r).add(t.group).shadow(s,o);a.visible===!1&&a.setVisible(!1)})},drawDataLabels:function(){var e=this,t=e.data,n,r=e.chart,i=e.options.dataLabels,s=d(i.connectorPadding,10),o=d(i.connectorWidth,1),u=r.plotWidth,r=r.plotHeight,a,f,l=d(i.softConnector,!0),c=i.distance,h=e.center,p=h[2]/2,v=h[1],m=c>0,g,y,b,w,E=[[],[]],S,x,T,N,C,k=[0,0,0,0],A=function(e,t){return t.y-e.y},O=function(e,t){e.sort(function(e,n){return e.angle!==void 0&&(n.angle-e.angle)*t})};if(i.enabled||e._hasPointLabels){xn.prototype.drawDataLabels.apply(e);on(t,function(e){e.dataLabel&&E[e.half].push(e)});for(N=0;!w&&t[N];)w=t[N]&&t[N].dataLabel&&(t[N].dataLabel.getBBox().height||21),N++;for(N=2;N--;){var t=[],M=[],_=E[N],D=_.length,P;O(_,N-.5);if(c>0){for(C=v-p-c;C<=v+p+c;C+=w)t.push(C);y=t.length;if(D>y){n=[].concat(_);n.sort(A);for(C=D;C--;)n[C].rank=C;for(C=D;C--;)_[C].rank>=y&&_.splice(C,1);D=_.length}for(C=0;C<D;C++){n=_[C];b=n.labelPos;n=9999;var H,B;for(B=0;B<y;B++)H=tt(t[B]-b[1]),H<n&&(n=H,P=B);if(P<C&&t[C]!==null)P=C;else for(y<D-C+P&&t[C]!==null&&(P=y-D+C);t[P]===null;)P++;M.push({i:P,y:t[P]});t[P]=null}M.sort(A)}for(C=0;C<D;C++){n=_[C];b=n.labelPos;g=n.dataLabel;T=n.visible===!1?"hidden":"visible";n=b[1];if(c>0){if(y=M.pop(),P=y.i,x=y.y,n>x&&t[P+1]!==null||n<x&&t[P-1]!==null)x=n}else x=n;S=i.justify?h[0]+(N?-1:1)*(p+c):e.getX(P===0||P===t.length-1?n:x,N);g._attr={visibility:T,align:b[6]};g._pos={x:S+i.x+({left:s,right:-s}[b[6]]||0),y:x+i.y-10};g.connX=S;g.connY=x;if(this.options.size===null)y=g.width,S-y<s?k[3]=Z(Q(y-S+s),k[3]):S+y>u-s&&(k[1]=Z(Q(S+y-u+s),k[1])),x-w/2<0?k[0]=Z(Q(-x+w/2),k[0]):x+w/2>r&&(k[2]=Z(Q(x+w/2-r),k[2]))}}if(L(k)===0||this.verifyDataLabelOverflow(k))this.placeDataLabels(),m&&o&&on(this.points,function(t){a=t.connector;b=t.labelPos;if((g=t.dataLabel)&&g._pos)S=g.connX,x=g.connY,f=l?["M",S+(b[6]==="left"?5:-5),x,"C",S,x,2*b[2]-b[4],2*b[3]-b[5],b[2],b[3],"L",b[4],b[5]]:["M",S+(b[6]==="left"?5:-5),x,"L",b[2],b[3],"L",b[4],b[5]],a?(a.animate({d:f}),a.attr("visibility",T)):t.connector=a=e.chart.renderer.path(f).attr({"stroke-width":o,stroke:i.connectorColor||t.color||"#606060",visibility:T}).add(e.group);else if(a)t.connector=a.destroy()})}},verifyDataLabelOverflow:function(e){var t=this.center,n=this.options,r=n.center,i=n=n.minSize||80,s;r[0]!==null?i=Z(t[2]-Z(e[1],e[3]),n):(i=Z(t[2]-e[1]-e[3],n),t[0]+=(e[3]-e[1])/2);r[1]!==null?i=Z(et(i,t[2]-Z(e[0],e[2])),n):(i=Z(et(i,t[2]-e[0]-e[2]),n),t[1]+=(e[0]-e[2])/2);i<t[2]?(t[2]=i,this.translate(t),on(this.points,function(e){if(e.dataLabel)e.dataLabel._pos=null}),this.drawDataLabels()):s=!0;return s},placeDataLabels:function(){on(this.points,function(e){var e=e.dataLabel,t;if(e)(t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999})})},alignDataLabel:kt,drawTracker:wn.prototype.drawTracker,drawLegendSymbol:tn.prototype.drawLegendSymbol,getSymbol:kt};en=g(xn,en);Zt.pie=en;var Nn=xn.prototype,Cn=Nn.processData,kn=Nn.generatePoints,Ln=Nn.destroy,An=Nn.tooltipHeaderFormatter,On={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:n(_t,["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],Dt,["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],Pt,["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],Ht,["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],Bt,["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],jt,["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],Ft,["%B %Y","%B","-%B %Y"],It,["%Y","%Y","-%Y"])},Mn={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},_n=[[_t,[1,2,5,10,20,25,50,100,200,500]],[Dt,[1,2,5,10,15,30]],[Pt,[1,2,5,10,15,30]],[Ht,[1,2,3,4,6,8,12]],[Bt,[1]],[jt,[1]],[Ft,[1,3,6]],[It,null]],Dn={sum:function(e){var t=e.length,n;if(!t&&e.hasNulls)n=null;else if(t)for(n=0;t--;)n+=e[t];return n},average:function(e){var t=e.length,e=Dn.sum(e);typeof e==="number"&&t&&(e/=t);return e},open:function(e){return e.length?e[0]:e.hasNulls?null:V},high:function(e){return e.length?L(e):e.hasNulls?null:V},low:function(e){return e.length?k(e):e.hasNulls?null:V},close:function(e){return e.length?e[e.length-1]:e.hasNulls?null:V},ohlc:function(e,t,n,r){e=Dn.open(e);t=Dn.high(t);n=Dn.low(n);r=Dn.close(r);if(typeof e==="number"||typeof t==="number"||typeof n==="number"||typeof r==="number")return[e,t,n,r]},range:function(e,t){e=Dn.low(e);t=Dn.high(t);if(typeof e==="number"||typeof t==="number")return[e,t]}};Nn.groupData=function(e,t,n,r){var i=this.data,s=this.options.data,o=[],u=[],a=e.length,f,l,c=!!t,h=[[],[],[],[]],r=typeof r==="function"?r:Dn[r],p=this.pointArrayMap,d=p&&p.length,v;for(v=0;v<=a;v++){for(;n[1]!==V&&e[v]>=n[1]||v===a;)if(f=n.shift(),l=r.apply(0,h),l!==V&&(o.push(f),u.push(l)),h[0]=[],h[1]=[],h[2]=[],h[3]=[],v===a)break;if(v===a)break;if(p){f=this.cropStart+v;f=i&&i[f]||this.pointClass.prototype.applyOptions.apply({series:this},[s[f]]);var m;for(l=0;l<d;l++)if(m=f[p[l]],typeof m==="number")h[l].push(m);else if(m===null)h[l].hasNulls=!0}else if(f=c?t[v]:null,typeof f==="number")h[0].push(f);else if(f===null)h[0].hasNulls=!0}return[o,u]};Nn.processData=function(){var e=this.chart,t=this.options,n=t.dataGrouping,r=n&&d(n.enabled,e.options._stock),i;this.forceCrop=r;if(Cn.apply(this,arguments)!==!1&&r){this.destroyGroupedData();var r=this.processedXData,s=this.processedYData,o=e.plotSizeX,u=this.xAxis,a=d(u.groupPixelWidth,n.groupPixelWidth),f=r.length,l=e.series,c=this.pointRange;if(!u.groupPixelWidth){for(e=l.length;e--;)l[e].xAxis===u&&l[e].options.dataGrouping&&(a=Z(a,l[e].options.dataGrouping.groupPixelWidth));u.groupPixelWidth=a}if(f>o/a||f&&n.forced){i=!0;this.points=null;e=u.getExtremes();f=e.min;l=e.max;e=u.getGroupIntervalFactor&&u.getGroupIntervalFactor(f,l,r)||1;o=a*(l-f)/o*e;u=(u.getNonLinearTimeTicks||T)(x(o,n.units||_n),f,l,null,r,this.closestPointRange);s=Nn.groupData.apply(this,[r,s,u,n.approximation]);r=s[0];s=s[1];if(n.smoothed){e=r.length-1;for(r[e]=l;e--&&e>0;)r[e]+=o/2;r[0]=f}this.currentDataGrouping=u.info;if(t.pointRange===null)this.pointRange=u.info.totalRange;this.closestPointRange=u.info.totalRange;this.processedXData=r;this.processedYData=s}else this.currentDataGrouping=null,this.pointRange=c;this.hasGroupedData=i}};Nn.destroyGroupedData=function(){var e=this.groupedData;on(e||[],function(t,n){t&&(e[n]=t.destroy?t.destroy():null)});this.groupedData=null};Nn.generatePoints=function(){kn.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};Nn.tooltipHeaderFormatter=function(e){var t=this.tooltipOptions,n=this.options.dataGrouping,r=t.xDateFormat,i,s=this.xAxis,o,a;if(s&&s.options.type==="datetime"&&n&&u(e.key)){o=this.currentDataGrouping;n=n.dateTimeLabelFormats;if(o)s=n[o.unitName],o.count===1?r=s[0]:(r=s[1],i=s[2]);else if(!r)for(a in Ct)if(Ct[a]>=s.closestPointRange){r=n[a][0];break}r=xt(r,e.key);i&&(r+=xt(i,e.key+o.totalRange-1));e=t.headerFormat.replace("{point.key}",r)}else e=An.call(this,e);return e};Nn.destroy=function(){for(var e=this.groupedData||[],t=e.length;t--;)e[t]&&e[t].destroy();Ln.apply(this)};w(Nn,"setOptions",function(e,n){var r=e.call(this,n),i=this.type,s=this.chart.options.plotOptions,o=mn[i].dataGrouping;if(Mn[i])o||(o=t(On,Mn[i])),r.dataGrouping=t(o,s.series&&s.series.dataGrouping,s[i].dataGrouping,n.dataGrouping);if(this.chart.options._stock)this.requireSorting=!0;return r});mn.ohlc=t(mn.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});en=g(Zt.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(e){return[e.open,e.high,e.low,e.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){Zt.column.prototype.getAttribs.apply(this,arguments);var e=this.options,n=e.states,r=e.upColor||this.color,e=t(this.pointAttr),i=this.upColorProp,s=this.points||[],o=s.length;e[""][i]=r;e.hover[i]=n.hover.upColor||r;e.select[i]=n.select.upColor||r;for(i=0;i<o;i++)if(r=s[i],n=i>0?s[i-1].close<r.close:r.open<r.close)r.pointAttr=e},translate:function(){var e=this.yAxis;Zt.column.prototype.translate.apply(this);on(this.points,function(t){if(t.open!==null)t.plotOpen=e.translate(t.open,0,1,0,1);if(t.close!==null)t.plotClose=e.translate(t.close,0,1,0,1)})},drawPoints:function(){var e=this,t=e.chart,n,r,i,s,o,u,a,f;on(e.points,function(l){if(l.plotY!==V)a=l.graphic,n=l.pointAttr[l.selected?"selected":""],s=n["stroke-width"]%2/2,f=Q(l.plotX)+s,o=Q(l.shapeArgs.width/2),u=["M",f,Q(l.yBottom),"L",f,Q(l.plotY)],l.open!==null&&(r=Q(l.plotOpen)+s,u.push("M",f,r,"L",f-o,r)),l.close!==null&&(i=Q(l.plotClose)+s,u.push("M",f,i,"L",f+o,i)),a?a.animate({d:u}):l.graphic=t.renderer.path(u).attr(n).add(e.group)})},animate:null});Zt.ohlc=en;mn.candlestick=t(mn.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:mn.ohlc.tooltip,threshold:null,upColor:"white"});en=g(en,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",drawPoints:function(){var e=this,t=e.chart,n,r,i,s,o,u,a,f,l,c;on(e.points,function(h){f=h.graphic;if(h.plotY!==V)n=h.pointAttr[h.selected?"selected":""],u=n["stroke-width"]%2/2,a=Q(h.plotX)+u,r=Q(h.plotOpen)+u,i=Q(h.plotClose)+u,s=K.min(r,i),o=K.max(r,i),c=Q(h.shapeArgs.width/2),l=["M",a-c,o,"L",a-c,s,"L",a+c,s,"L",a+c,o,"L",a-c,o,"M",a,o,"L",a,Q(h.yBottom),"M",a,s,"L",a,Q(h.plotY),"Z"],f?f.animate({d:l}):h.graphic=t.renderer.path(l).attr(n).add(e.group)})}});Zt.candlestick=en;var Pn=yn.prototype.symbols;mn.flags=t(mn.column,{dataGrouping:null,fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:7,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30});Zt.flags=g(Zt.column,{type:"flags",sorted:!1,noSharedTooltip:!0,takeOrdinalPosition:!1,forceCrop:!0,init:xn.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){Zt.column.prototype.translate.apply(this);var e=this.chart,t=this.points,n=t.length-1,r,i,s=this.options.onSeries,s=(r=s&&e.get(s))&&r.options.step,o=r&&r.points,u=o&&o.length,a=this.xAxis,f=a.getExtremes(),l,c,h;if(r&&r.visible&&u){c=o[u-1].x;for(t.sort(function(e,t){return e.x-t.x});u--&&t[n];)if(r=t[n],l=o[u],l.x<=r.x&&l.plotY!==V){if(r.x<=c)r.plotY=l.plotY,l.x<r.x&&!s&&(h=o[u+1])&&h.plotY!==V&&(r.plotY+=(r.x-l.x)/(h.x-l.x)*(h.plotY-l.plotY));n--;u++;if(n<0)break}}on(t,function(n,r){if(n.plotY===V)n.x>=f.min&&n.x<=f.max?n.plotY=a.lineTop-e.plotTop:n.shapeArgs={};if((i=t[r-1])&&i.plotX===n.plotX){if(i.stackIndex===V)i.stackIndex=0;n.stackIndex=i.stackIndex+1}})},drawPoints:function(){var n,r=this.points,i=this.chart.renderer,s,o,u=this.options,a=u.y,f,l,c,h,p,d=u.lineWidth%2/2,v;for(c=r.length;c--;)if(h=r[c],s=h.plotX+d,n=h.stackIndex,f=h.options.shape||u.shape,o=h.plotY,o!==V&&(o=h.plotY+a+d-(n!==V&&n*u.stackDistance)),l=n?V:h.plotX+d,v=n?V:h.plotY,p=h.graphic,o!==V)n=h.pointAttr[h.selected?"select":""],p?p.attr({x:s,y:o,r:n.r,anchorX:l,anchorY:v}):p=h.graphic=i.label(h.options.title||u.title||"A",s,o,f,l,v,u.useHTML).css(t(u.style,h.style)).attr(n).attr({align:f==="flag"?"left":"center",width:u.width,height:u.height}).add(this.group).shadow(u.shadow),l=p.box,n=l.getBBox(),h.shapeArgs=e(n,{x:s-(f==="flag"?0:l.attr("width")/2),y:o});else if(p)h.graphic=p.destroy()},drawTracker:function(){Zt.column.prototype.drawTracker.apply(this);dt&&on(this.points,function(e){e.graphic&&ln(e.graphic.element,"mouseover",function(){e.graphic.toFront()})})},animate:kt});Pn.flag=function(e,t,n,r,i){var s=i&&i.anchorX||e,i=i&&i.anchorY||t;return["M",s,i,"L",e,t+r,e,t,e+n,t,e+n,t+r,e,t+r,"M",s,i,"Z"]};on(["circle","square"],function(e){Pn[e+"pin"]=function(t,n,r,i,s){var o=s&&s.anchorX,s=s&&s.anchorY,t=Pn[e](t,n,r,i);o&&s&&t.push("M",o,n+i,"L",o,s);return t}});gt===bn&&on(["flag","circlepin","squarepin"],function(e){bn.prototype.symbols[e]=Pn[e]});en=n("linearGradient",{x1:0,y1:0,x2:0,y2:1},"stops",[[0,"#FFF"],[1,"#CCC"]]);tn=[].concat(_n);tn[4]=[Bt,[1,2,3,4]];tn[5]=[jt,[1,2,3]];e(St,{navigator:{handles:{backgroundColor:"#FFF",borderColor:"#666"},height:40,margin:10,maskFill:"rgba(255, 255, 255, 0.75)",outlineColor:"#444",outlineWidth:1,series:{type:"areaspline",color:"#4572A7",compare:null,fillOpacity:.4,dataGrouping:{approximation:"average",groupPixelWidth:2,smoothed:!0,units:tn},dataLabels:{enabled:!1},id:"highcharts-navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1},xAxis:{tickWidth:0,lineWidth:0,gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",x:3,y:-4}},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},title:{text:null},tickWidth:0}},scrollbar:{height:ht?20:14,barBackgroundColor:en,barBorderRadius:2,barBorderWidth:1,barBorderColor:"#666",buttonArrowColor:"#666",buttonBackgroundColor:en,buttonBorderColor:"#666",buttonBorderRadius:2,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:n("linearGradient",{x1:0,y1:0,x2:0,y2:1},"stops",[[0,"#EEE"],[1,"#FFF"]]),trackBorderColor:"#CCC",trackBorderWidth:1,liveRedraw:dt}});W.prototype={drawHandle:function(e,t){var n=this.chart,r=n.renderer,i=this.elementsToDestroy,s=this.handles,o=this.navigatorOptions.handles,o={fill:o.backgroundColor,stroke:o.borderColor,"stroke-width":1},u;this.rendered||(s[t]=r.g().css({cursor:"e-resize"}).attr({zIndex:4-t}).add(),u=r.rect(-4.5,0,9,16,3,1).attr(o).add(s[t]),i.push(u),u=r.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(o).add(s[t]),i.push(u));s[t][n.isResizing?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(e,10),translateY:this.top+this.height/2-8})},drawScrollbarButton:function(e){var t=this.chart.renderer,n=this.elementsToDestroy,r=this.scrollbarButtons,i=this.scrollbarHeight,s=this.scrollbarOptions,o;this.rendered||(r[e]=t.g().add(this.scrollbarGroup),o=t.rect(-.5,-.5,i+1,i+1,s.buttonBorderRadius,s.buttonBorderWidth).attr({stroke:s.buttonBorderColor,"stroke-width":s.buttonBorderWidth,fill:s.buttonBackgroundColor}).add(r[e]),n.push(o),o=t.path(["M",i/2+(e?-1:1),i/2-3,"L",i/2+(e?-1:1),i/2+3,i/2+(e?2:-2),i/2]).attr({fill:s.buttonArrowColor}).add(r[e]),n.push(o));e&&r[e].attr({translateX:this.scrollerWidth-i})},render:function(e,t,n,i){var s=this.chart,o=s.renderer,u,a,f,l,c=this.scrollbarGroup,h=this.navigatorGroup,p=this.scrollbar,h=this.xAxis,v=this.scrollbarTrack,m=this.scrollbarHeight,g=this.scrollbarEnabled,y=this.navigatorOptions,b=this.scrollbarOptions,w=b.minWidth,E=this.height,S=this.top,x=this.navigatorEnabled,T=y.outlineWidth,N=T/2,C=0,k=this.outlineHeight,L=b.barBorderRadius,A=b.barBorderWidth,O=S+N;if(!isNaN(e)){this.navigatorLeft=u=d(h.left,s.plotLeft+m);this.navigatorWidth=a=d(h.len,s.plotWidth-2*m);this.scrollerLeft=f=u-m;this.scrollerWidth=l=l=a+2*m;if(h.getExtremes){var M=s.xAxis[0].getExtremes(),_=M.dataMin===null,D=h.getExtremes(),P=et(M.dataMin,D.dataMin),M=Z(M.dataMax,D.dataMax);!_&&(P!==D.min||M!==D.max)&&h.setExtremes(P,M,!0,!1)}n=d(n,h.translate(e));i=d(i,h.translate(t));this.zoomedMax=e=et(r(Z(n,i)),a);this.zoomedMin=i=this.fixedWidth?e-this.fixedWidth:Z(r(et(n,i)),0);this.range=n=e-i;this.fixedWidth=null;if(!this.rendered){if(x)this.navigatorGroup=h=o.g("navigator").attr({zIndex:3}).add(),this.leftShade=o.rect().attr({fill:y.maskFill}).add(h),this.rightShade=o.rect().attr({fill:y.maskFill}).add(h),this.outline=o.path().attr({"stroke-width":T,stroke:y.outlineColor}).add(h);if(g)this.scrollbarGroup=c=o.g("scrollbar").add(),p=b.trackBorderWidth,this.scrollbarTrack=v=o.rect().attr({y:-p%2/2,fill:b.trackBackgroundColor,stroke:b.trackBorderColor,"stroke-width":p,r:b.trackBorderRadius||0,height:m}).add(c),this.scrollbar=p=o.rect().attr({y:-A%2/2,height:m,fill:b.barBackgroundColor,stroke:b.barBorderColor,"stroke-width":A,r:L}).add(c),this.scrollbarRifles=o.path().attr({stroke:b.rifleColor,"stroke-width":1}).add(c)}s=s.isResizing?"animate":"attr";x&&(this.leftShade[s]({x:u,y:S,width:i,height:E}),this.rightShade[s]({x:u+e,y:S,width:a-e,height:E}),this.outline[s]({d:["M",f,O,"L",u+i+N,O,u+i+N,O+k-m,"M",u+e-N,O+k-m,"L",u+e-N,O,f+l,O]}),this.drawHandle(i+N,0),this.drawHandle(e+N,1));if(g)this.drawScrollbarButton(0),this.drawScrollbarButton(1),c[s]({translateX:f,translateY:Q(O+E)}),v[s]({width:l}),u=m+i,a=n-A,a<w&&(C=(w-a)/2,a=w,u-=C),this.scrollbarPad=C,p[s]({x:G(u)+A%2/2,width:a}),w=m+i+n/2-.5,this.scrollbarRifles.attr({visibility:n>12?"visible":"hidden"})[s]({d:["M",w-3,m/4,"L",w-3,2*m/3,"M",w,m/4,"L",w,2*m/3,"M",w+3,m/4,"L",w+3,2*m/3]});this.scrollbarPad=C;this.rendered=!0}},addEvents:function(){var e=this.chart.container,t=this.mouseDownHandler,n=this.mouseMoveHandler,r=this.mouseUpHandler,i;i=[[e,"mousedown",t],[e,"mousemove",n],[document,"mouseup",r]];yt&&i.push([e,"touchstart",t],[e,"touchmove",n],[document,"touchend",r]);on(i,function(e){ln.apply(null,e)});this._events=i},removeEvents:function(){on(this._events,function(e){cn.apply(null,e)});this._events=V;this.navigatorEnabled&&this.baseSeries&&cn(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var n=this,r=n.chart,i,s,o=n.scrollbarHeight,u=n.navigatorOptions,a=n.height,f=n.top,l,c,h,p=document.body.style,v,m=n.baseSeries,g;n.mouseDownHandler=function(e){var e=r.pointer.normalize(e),t=n.zoomedMin,s=n.zoomedMax,o=n.top,u=n.scrollbarHeight,f=n.scrollerLeft,l=n.scrollerWidth,h=n.navigatorLeft,d=n.navigatorWidth,m=n.scrollbarPad,g=n.range,y=e.chartX,b=e.chartY,e=r.xAxis[0],w=ht?10:7;if(b>o&&b<o+a+u)if((o=!n.scrollbarEnabled||b<o+a)&&K.abs(y-t-h)<w)n.grabbedLeft=!0,n.otherHandlePos=s;else if(o&&K.abs(y-s-h)<w)n.grabbedRight=!0,n.otherHandlePos=t;else if(y>h+t-m&&y<h+s+m){n.grabbedCenter=y;if(r.renderer.isSVG)v=p.cursor,p.cursor="ew-resize";c=y-t}else if(y>f&&y<f+l&&(s=o?y-h-g/2:y<h?t-et(10,g):y>f+l-u?t+et(10,g):y<h+t?t-g:s,s<0?s=0:s+g>d&&(s=d-g),s!==t)){n.fixedWidth=g;if(!e.ordinalPositions)e.fixedRange=e.max-e.min;t=i.translate(s,!0);e.setExtremes(t,e.fixedRange?t+e.fixedRange:i.translate(s+g,!0),!0,!1,{trigger:"navigator"})}};n.mouseMoveHandler=function(e){var t=n.scrollbarHeight,i=n.navigatorLeft,s=n.navigatorWidth,o=n.scrollerLeft,u=n.scrollerWidth,a=n.range;if(e.pageX!==0)e=r.pointer.normalize(e),e=e.chartX,e<i?e=i:e>o+u-t&&(e=o+u-t),n.grabbedLeft?(h=!0,n.render(0,0,e-i,n.otherHandlePos)):n.grabbedRight?(h=!0,n.render(0,0,n.otherHandlePos,e-i)):n.grabbedCenter&&(h=!0,e<c?e=c:e>s+c-a&&(e=s+c-a),n.render(0,0,e-c,e-c+a)),h&&n.scrollbarOptions.liveRedraw&&setTimeout(function(){n.mouseUpHandler(!1)},0)};n.mouseUpHandler=function(e){h&&r.xAxis[0].setExtremes(i.translate(n.zoomedMin,!0),i.translate(n.zoomedMax,!0),!0,!1,{trigger:"navigator"});if(e!==!1)n.grabbedLeft=n.grabbedRight=n.grabbedCenter=h=c=null,p.cursor=v||""};n.updatedDataHandler=function(){var e=m.xAxis,t=e.getExtremes(),i=t.min,s=t.max,o=t.dataMin,t=t.dataMax,u=s-i,a,f,c,h,p;a=l.xData;var d=!!e.setExtremes;f=s>=a[a.length-1];a=i<=o;if(!g)l.options.pointStart=m.xData[0],l.setData(m.options.data,!1),p=!0;a&&(h=o,c=h+u);f&&(c=t,a||(h=Z(c-u,l.xData[0])));d&&(a||f)?e.setExtremes(h,c,!0,!1,{trigger:"updatedData"}):(p&&r.redraw(!1),n.render(Z(i,o),et(s,t)))};var y=r.xAxis.length,b=r.yAxis.length;r.extraBottomMargin=n.outlineHeight+u.margin;if(n.navigatorEnabled){var E=m?m.options:{},S=E.data,x=u.series;g=x.data;n.xAxis=i=new I(r,t({ordinal:m&&m.xAxis.options.ordinal},u.xAxis,{isX:!0,type:"datetime",index:y,height:a,offset:0,offsetLeft:o,offsetRight:-o,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1}));n.yAxis=s=new I(r,t(u.yAxis,{alignTicks:!1,height:a,offset:0,index:b,zoomEnabled:!1}));y=t(E,x,{threshold:null,clip:!1,enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:y,yAxis:b,name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0});y.data=g||S;l=r.initSeries(y);if(m&&u.adaptToUpdatedData!==!1)ln(m,"updatedData",n.updatedDataHandler),m.userOptions.events=e(m.userOptions.event,{updatedData:n.updatedDataHandler})}else n.xAxis=i={translate:function(e,t){var n=r.xAxis[0].getExtremes(),i=r.plotWidth-2*o,s=n.dataMin,n=n.dataMax-s;return t?e*n/i+s:i*(e-s)/n}};n.series=l;w(r,"getMargins",function(e){var t=this.legend,r=t.options;e.call(this);n.top=f=n.navigatorOptions.top||this.chartHeight-n.height-n.scrollbarHeight-this.options.chart.spacingBottom-(r.verticalAlign==="bottom"&&r.enabled?t.legendHeight+d(r.margin,10):0);if(i&&s)i.options.top=s.options.top=f,i.setAxisSize(),s.setAxisSize()});n.addEvents()},destroy:function(){this.removeEvents();on([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],function(e){e&&e.destroy&&e.destroy()});this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null;on([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(e){A(e)})}};Highcharts.Scroller=W;w(I.prototype,"zoom",function(e,t,n){var r=this.chart,i=r.options,s=i.chart.zoomType,o=i.navigator,i=i.rangeSelector,u;if(this.isXAxis&&(o&&o.enabled||i&&i.enabled))if(s==="x")r.resetZoomButton="blocked";else if(s==="y")u=!1;else if(s==="xy")r=this.previousZoom,c(t)?this.previousZoom=[this.min,this.max]:r&&(t=r[0],n=r[1],delete this.previousZoom);return u!==V?u:e.call(this,t,n)});w(z.prototype,"init",function(e,t,n){ln(this,"beforeRender",function(){var e=this.options;if(e.navigator.enabled||e.scrollbar.enabled)this.scroller=new W(this)});e.call(this,t,n)});e(St,{rangeSelector:{buttonTheme:{width:28,height:16,padding:1,r:0,stroke:"#68A",zIndex:7},inputPosition:{align:"right"},labelStyle:{color:"#666"}}});St.lang=t(St.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});X.prototype={clickButton:function(e,n,r){var i=this,s=i.chart,o=i.buttons,u=s.xAxis[0],a=u&&u.getExtremes(),f=s.scroller&&s.scroller.xAxis,l=f&&f.getExtremes&&f.getExtremes(),f=l&&l.dataMin,l=l&&l.dataMax,h=a&&a.dataMin,p=a&&a.dataMax,v=(c(h)&&c(f)?et:d)(h,f),m=(c(p)&&c(l)?Z:d)(p,l),g,a=u&&et(a.max,m),f=new Date(a),l=n.type,h=n.count,y,b,p={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};if(!(v===null||m===null||e===i.selected)){if(p[l])y=p[l]*h,g=Z(a-y,v);else if(l==="month")f.setMonth(f.getMonth()-h),g=Z(f.getTime(),v),y=2592e6*h;else if(l==="ytd")if(u){if(m===V)v=Number.MAX_VALUE,m=Number.MIN_VALUE,on(s.series,function(e){e=e.xData;v=et(e[0],v);m=Z(e[e.length-1],m)}),r=!1;a=new Date(m);b=a.getFullYear();g=b=Z(v||0,Date.UTC(b,0,1));a=a.getTime();a=et(m||a,a)}else{ln(s,"beforeRender",function(){i.clickButton(e,n)});return}else l==="year"?(f.setFullYear(f.getFullYear()-h),g=Z(v,f.getTime()),y=31536e6*h):l==="all"&&u&&(g=v,a=m);o[e]&&o[e].setState(2);u?u.setExtremes(g,a,d(r,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:n}):(r=s.options.xAxis,r[0]=t(r[0],{range:y,min:b}));i.selected=e}},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(e){var t=this,n=e.options.rangeSelector,r=n.buttons||[].concat(t.defaultButtons),i=t.buttons=[],n=n.selected,s=t.blurInputs=function(){var e=t.minInput,n=t.maxInput;e&&e.blur();n&&n.blur()};t.chart=e;e.extraTopMargin=25;t.buttonOptions=r;ln(e.container,"mousedown",s);ln(e,"resize",s);n!==V&&r[n]&&this.clickButton(n,r[n],!1);ln(e,"load",function(){ln(e.xAxis[0],"afterSetExtremes",function(){if(this.fixedRange!==this.max-this.min)i[t.selected]&&!e.renderer.forExport&&i[t.selected].setState(0),t.selected=null;this.fixedRange=null})})},setInputValue:function(e,t){var n=this.chart.options.rangeSelector;if(t)this[e+"Input"].HCTime=t;this[e+"Input"].value=xt(n.inputEditDateFormat||"%Y-%m-%d",this[e+"Input"].HCTime);this[e+"DateBox"].attr({text:xt(n.inputDateFormat||"%b %e, %Y",this[e+"Input"].HCTime)})},drawInput:function(n){var i=this,s=i.chart,o=s.options.chart.style,u=s.renderer,a=s.options.rangeSelector,f=i.div,l=n==="min",c,h,p,d=this.inputGroup;this[n+"Label"]=h=u.label(St.lang[l?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:1}).css(t(o,a.labelStyle)).add(d);d.offset+=h.width+5;this[n+"DateBox"]=p=u.label("",d.offset).attr({padding:1,width:90,height:16,stroke:"silver","stroke-width":1}).css(t({textAlign:"center"},o,a.inputStyle)).on("click",function(){i[n+"Input"].focus()}).add(d);d.offset+=p.width+(l?10:0);this[n+"Input"]=c=m("input",{name:n,className:"highcharts-range-selector",type:"text"},e({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:o.fontSize,fontFamily:o.fontFamily,top:s.plotTop+"px"},a.inputStyle),f);c.onfocus=function(){v(this,{left:d.translateX+p.x+"px",top:d.translateY+"px",width:p.width-2+"px",height:p.height-2+"px",border:"2px solid silver"})};c.onblur=function(){v(this,{border:0,width:"1px",height:"1px"});i.setInputValue(n)};c.onchange=function(){var e=c.value,t=Date.parse(e),n=s.xAxis[0].getExtremes();isNaN(t)&&(t=e.split("-"),t=Date.UTC(r(t[0]),r(t[1])-1,r(t[2])));if(!isNaN(t)&&(St.global.useUTC||(t+=(new Date).getTimezoneOffset()*6e4),l&&t>=n.dataMin&&t<=i.maxInput.HCTime||!l&&t<=n.dataMax&&t>=i.minInput.HCTime))s.xAxis[0].setExtremes(l?t:n.min,l?n.max:t,V,V,{trigger:"rangeSelectorInput"})}},render:function(t,n){var r=this,i=r.chart,s=i.renderer,o=i.container,u=i.options,a=u.exporting&&i.options.navigation.buttonOptions,f=u.rangeSelector,l=r.buttons,c=St.lang,h=r.div,h=r.inputGroup,p=f.buttonTheme,d=f.inputEnabled!==!1,v=p&&p.states,g=i.plotLeft,y;if(!r.rendered&&(r.zoomText=s.text(c.rangeSelectorZoom,g,i.plotTop-10).css(f.labelStyle).add(),y=g+r.zoomText.getBBox().width+5,on(r.buttonOptions,function(e,t){l[t]=s.button(e.text,y,i.plotTop-25,function(){r.clickButton(t,e);r.isActive=!0},p,v&&v.hover,v&&v.select).css({textAlign:"center"}).add();y+=l[t].width+(f.buttonSpacing||0);r.selected===t&&l[t].setState(2)}),d))r.div=h=m("div",null,{position:"relative",height:0,zIndex:1}),o.parentNode.insertBefore(h,o),r.inputGroup=h=s.g("input-group").add(),h.offset=0,r.drawInput("min"),r.drawInput("max");d&&(o=i.plotTop-35,h.align(e({y:o,width:h.offset,x:a&&o<(a.y||0)+a.height-u.chart.spacingTop?-40:0},f.inputPosition),!0,i.spacingBox),r.setInputValue("min",t),r.setInputValue("max",n));r.rendered=!0},destroy:function(){var e=this.minInput,t=this.maxInput,n=this.chart,r=this.blurInputs,i;cn(n.container,"mousedown",r);cn(n,"resize",r);A(this.buttons);if(e)e.onfocus=e.onblur=e.onchange=null;if(t)t.onfocus=t.onblur=t.onchange=null;for(i in this)this[i]&&i!=="chart"&&(this[i].destroy?this[i].destroy():this[i].nodeType&&O(this[i])),this[i]=null}};w(z.prototype,"init",function(e,t,n){ln(this,"init",function(){if(this.options.rangeSelector.enabled)this.rangeSelector=new X(this)});e.call(this,t,n)});Highcharts.RangeSelector=X;z.prototype.callbacks.push(function(e){function t(){s=e.xAxis[0].getExtremes();o.render(Z(s.min,s.dataMin),et(s.max,s.dataMax))}function n(){s=e.xAxis[0].getExtremes();u.render(s.min,s.max)}function r(e){o.render(e.min,e.max)}function i(e){u.render(e.min,e.max)}var s,o=e.scroller,u=e.rangeSelector;o&&(ln(e.xAxis[0],"afterSetExtremes",r),w(e,"drawChartBox",function(e){var n=this.isDirtyBox;e.call(this);n&&t()}),t());u&&(ln(e.xAxis[0],"afterSetExtremes",i),ln(e,"resize",n),n());ln(e,"destroy",function(){o&&cn(e.xAxis[0],"afterSetExtremes",r);u&&(cn(e,"resize",n),cn(e.xAxis[0],"afterSetExtremes",i))})});Highcharts.StockChart=function(e,n){var r=e.series,i,s={marker:{enabled:!1,states:{hover:{radius:5}}},states:{hover:{lineWidth:2}}},o={shadow:!1,borderWidth:0};e.xAxis=fn(p(e.xAxis||{}),function(e){return t({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},e,{type:"datetime",categories:null})});e.yAxis=fn(p(e.yAxis||{}),function(e){i=e.opposite;return t({labels:{align:i?"right":"left",x:i?-2:2,y:-2},showLastLabel:!1,title:{text:null}},e)});e.series=null;e=t({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:s,spline:s,area:s,areaspline:s,arearange:s,areasplinerange:s,column:o,columnrange:o,candlestick:o,ohlc:o}},e,{_stock:!0,chart:{inverted:!1}});e.series=r;return new z(e,n)};w(R.prototype,"init",function(e,t,n){var r=n.chart.pinchType||"";e.call(this,t,n);this.pinchX=this.pinchHor=r.indexOf("x")!==-1;this.pinchY=this.pinchVert=r.indexOf("y")!==-1});var Hn=Nn.init,Bn=Nn.processData,jn=Sn.prototype.tooltipFormatter;Nn.init=function(){Hn.apply(this,arguments);this.setCompare(this.options.compare)};Nn.setCompare=function(e){this.modifyValue=e==="value"||e==="percent"?function(t,n){var r=this.compareValue,t=e==="value"?t-r:t=100*(t/r)-100;if(n)n.change=t;return t}:null;if(this.chart.hasRendered)this.isDirty=!0};Nn.processData=function(){Bn.apply(this,arguments);if(this.options.compare)for(var e=0,t=this.processedXData,n=this.processedYData,r=n.length,i=this.xAxis.getExtremes().min;e<r;e++)if(typeof n[e]==="number"&&t[e]>=i){this.compareValue=n[e];break}};I.prototype.setCompare=function(e,t){this.isXAxis||(on(this.series,function(t){t.setCompare(e)}),d(t,!0)&&this.chart.redraw())};Sn.prototype.tooltipFormatter=function(e){e=e.replace("{point.change}",(this.change>0?"+":"")+y(this.change,this.series.tooltipOptions.changeDecimals||2));return jn.apply(this,[e])};(function(){var e=Nn.init,t=Nn.getSegments;Nn.init=function(){var t,n;e.apply(this,arguments);t=this.chart;(n=this.xAxis)&&n.options.ordinal&&ln(this,"updatedData",function(){delete n.ordinalIndex});if(n&&n.options.ordinal&&!n.hasOrdinalExtension){n.hasOrdinalExtension=!0;n.beforeSetTickPositions=function(){var e,t=[],r=!1,i,s=this.getExtremes(),o=s.min,s=s.max,u;if(this.options.ordinal){on(this.series,function(n,r){if(n.visible!==!1&&n.takeOrdinalPosition!==!1&&(t=t.concat(n.processedXData),e=t.length,r&&e)){t.sort(function(e,t){return e-t});for(r=e-1;r--;)t[r]===t[r+1]&&t.splice(r,1)}});e=t.length;if(e>2){i=t[1]-t[0];for(u=e-1;u--&&!r;)t[u+1]-t[u]!==i&&(r=!0)}r?(this.ordinalPositions=t,r=n.val2lin(o,!0),i=n.val2lin(s,!0),this.ordinalSlope=s=(s-o)/(i-r),this.ordinalOffset=o-r*s):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=V}};n.val2lin=function(e,t){var n=this.ordinalPositions;if(n){var r=n.length,i,s;for(i=r;i--;)if(n[i]===e){s=i;break}for(i=r-1;i--;)if(e>n[i]||i===0){n=(e-n[i])/(n[i+1]-n[i]);s=i+n;break}return t?s:this.ordinalSlope*(s||0)+this.ordinalOffset}else return e};n.lin2val=function(e,t){var n=this.ordinalPositions;if(n){var r=this.ordinalSlope,i=this.ordinalOffset,s=n.length-1,o,u;if(t)e<0?e=n[0]:e>s?e=n[s]:(s=G(e),u=e-s);else for(;s--;)if(o=r*s+i,e>=o){r=r*(s+1)+i;u=(e-o)/(r-o);break}return u!==V&&n[s]!==V?n[s]+(u?u*(n[s+1]-n[s]):0):e}else return e};n.getExtendedPositions=function(){var e=n.series[0].currentDataGrouping,r=n.ordinalIndex,i=e?e.count+e.unitName:"raw",s=n.getExtremes(),o,u;if(!r)r=n.ordinalIndex={};if(!r[i])o={series:[],getExtremes:function(){return{min:s.dataMin,max:s.dataMax}},options:{ordinal:!0}},on(n.series,function(n){u={xAxis:o,xData:n.xData,chart:t,destroyGroupedData:kt};u.options={dataGrouping:e?{enabled:!0,forced:!0,approximation:"open",units:[[e.unitName,[e.count]]]}:{enabled:!1}};n.processData.apply(u);o.series.push(u)}),n.beforeSetTickPositions.apply(o),r[i]=o.ordinalPositions;return r[i]};n.getGroupIntervalFactor=function(e,t,n){for(var r=0,i=n.length,s=[];r<i-1;r++)s[r]=n[r+1]-n[r];s.sort(function(e,t){return e-t});r=s[G(i/2)];e=Z(e,n[0]);t=et(t,n[i-1]);return i*r/(t-e)};n.postProcessTickInterval=function(e){var t=this.ordinalSlope;return t?e/(t/n.closestPointRange):e};n.getNonLinearTimeTicks=function(e,t,r,i,s,o,u){var a=0,f=0,l,h={},p,d,v,m=[],g=-Number.MAX_VALUE,y=n.options.tickPixelInterval;if(!s||s.length===1||t===V)return T(e,t,r,i);for(d=s.length;f<d;f++){v=f&&s[f-1]>r;s[f]<t&&(a=f);if(f===d-1||s[f+1]-s[f]>o*5||v){if(s[f]>g){for(l=T(e,s[a],s[f],i);l.length&&l[0]<=g;)l.shift();l.length&&(g=l[l.length-1]);m=m.concat(l)}a=f+1}if(v)break}e=l.info;if(u&&e.unitRange<=Ct[Ht]){f=m.length-1;for(a=1;a<f;a++)(new Date(m[a]))[Xt]()!==(new Date(m[a-1]))[Xt]()&&(h[m[a]]=Bt,p=!0);p&&(h[m[0]]=Bt);e.higherRanks=h}m.info=e;if(u&&c(y)){var u=e=m.length,f=[],b;for(p=[];u--;)a=n.translate(m[u]),b&&(p[u]=b-a),f[u]=b=a;p.sort();p=p[G(p.length/2)];p<y*.6&&(p=null);u=m[e-1]>r?e-1:e;for(b=void 0;u--;)a=f[u],r=b-a,b&&r<y*.8&&(p===null||r<p*.8)?(h[m[u]]&&!h[m[u+1]]?(r=u+1,b=a):r=u,m.splice(r,1)):b=a}return m};var r=t.pan;t.pan=function(e){var n=t.xAxis[0],i=!1;if(n.options.ordinal&&n.series.length){var s=t.mouseDownX,o=n.getExtremes(),u=o.dataMax,a=o.min,f=o.max,l;l=t.hoverPoints;var c=n.closestPointRange,s=(s-e)/(n.translationSlope*(n.ordinalSlope||c)),h={ordinalPositions:n.getExtendedPositions()},p,c=n.lin2val,d=n.val2lin;if(h.ordinalPositions){if(tt(s)>1)l&&on(l,function(e){e.setState()}),s<0?(l=h,h=n.ordinalPositions?n:h):l=n.ordinalPositions?n:h,p=h.ordinalPositions,u>p[p.length-1]&&p.push(u),l=c.apply(l,[d.apply(l,[a,!0])+s,!0]),s=c.apply(h,[d.apply(h,[f,!0])+s,!0]),l>et(o.dataMin,a)&&s<Z(u,f)&&n.setExtremes(l,s,!0,!1,{trigger:"pan"}),t.mouseDownX=e,v(t.container,{cursor:"move"})}else i=!0}else i=!0;i&&r.apply(t,arguments)}}};Nn.getSegments=function(){var e=this,n,r=e.options.gapSize;t.apply(e);if(r)n=e.segments,on(n,function(t,i){for(var s=t.length-1;s--;)t[s+1].x-t[s].x>e.xAxis.closestPointRange*r&&n.splice(i+1,0,t.splice(s+1,t.length-s))})}})();e(Highcharts,{Axis:I,Chart:z,Color:gn,Legend:U,Pointer:R,Point:Sn,Tick:B,Tooltip:q,Renderer:gt,Series:xn,SVGElement:H,SVGRenderer:yn,arrayMin:k,arrayMax:L,charts:Lt,dateFormat:xt,format:E,pathAnim:Nt,getOptions:function(){return St},hasBidiBug:vt,isTouchDevice:ht,numberFormat:y,seriesTypes:Zt,setOptions:function(e){St=t(St,e);P();return St},addEvent:ln,removeEvent:cn,createElement:m,discardElement:O,css:v,each:on,extend:e,map:fn,merge:t,pick:d,splat:p,extendClass:g,pInt:r,wrap:w,svg:dt,canvas:mt,vml:!dt&&!mt,product:"Highstock",version:"1.3.1"})})()