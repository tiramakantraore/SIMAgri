(function(e,t){e.arrays={find:function(e,n){var r=null;t.each(e,function(e,t){if(t[n.attr]!=undefined){if(t[n.attr].toString()==n.value){r=t;return false}}});return r},findAll:function(e,n){var r=[];t.each(e,function(e,t){if(t[n.attr]!=undefined){if(t[n.attr].toString()==n.value){r.push(t)}}});return r.length==0?null:r}};var n=function(t,n,r){this._splitter=t;this._pane=n;this._options=r;this._options.title=this._options.title||"";this._options.expandedSize=r.size;this._template=e.template('<div class="k-window-titlebar k-header k-ext-layout-header"><span class="k-window-title k-ext-layout-title">#= title #</span> #if (arrowsCss.length > 0) { # <div class="k-window-actions"><a href="\\#" class="k-window-action k-link k-ext-toggle k-ext-expanded"><span class="k-icon #= arrowsCss #">Collapse</span></a></div></div> # } #');this._callback=null;this.element=null;this._vertTitle="";this.vertTitleName()};n.prototype={init:function(){var e=this;var n=t(e._pane);e._options.arrowsCss=e._options.collapsible?e._options.region=="north"?"k-ext-arrows-up":e._options.region=="south"?"k-ext-arrows-down":e._options.region=="east"?"k-ext-arrows-right":"k-ext-arrows-left":"";if(e._options.collapsed){e._options.arrowsCss=e._options.arrowsCss=="k-ext-arrows-up"?"k-ext-arrows-down":e._options.arrowsCss=="k-ext-arrows-down"?"k-ext-arrows-up":e._options.arrowsCss=="k-ext-arrows-right"?"k-ext-arrows-left":e._options.arrowsCss=="k-ext-arrows-left"?"k-ext-arrows-right":""}n.prepend(e._template(e._options));e.element=n.children("div.k-window-titlebar");e.element.find(".k-ext-toggle").on("click",function(){var n=t(this);var r=n.hasClass("k-ext-expanded")?"collapse":"expand";e._splitter.toggle(e._pane,r=="expand");e.toggle(r,n)})},toggle:function(e,n){var r=this;var i=t(r._pane);if(!n){n=r.element.find(".k-ext-toggle")}r._options.collapsed=e=="collapse";r.update();var s=n.children(".k-icon");if(r._splitter.orientation=="horizontal"){if(s.hasClass("k-ext-arrows-left")){s.removeClass("k-ext-arrows-left").addClass("k-ext-arrows-right")}else{s.removeClass("k-ext-arrows-right").addClass("k-ext-arrows-left")}}else{if(s.hasClass("k-ext-arrows-up")){s.removeClass("k-ext-arrows-up").addClass("k-ext-arrows-down")}else{s.removeClass("k-ext-arrows-down").addClass("k-ext-arrows-up")}}},vertTitleName:function(e){e=e||this._options.title;for(var t=0;t<this._options.title.length;t++){this._vertTitle+=this._options.title[t]+"<br/>"}},update:function(){var n=this;var r=t(n._pane);var i=n.element;var s=i.find(".k-ext-toggle");var o;var u;var a;if(r.next().hasClass("k-splitbar")){o=r.next();u=o.next()}else{o=r.prev();u=o.prev()}if(n._options.collapsed){if(n._splitter.orientation=="horizontal"){if(r.width()<32){r.css("width","32px");if(n._options.region=="west"){o.css("left","32px");u.css("left","39px").width(u.width()-39)}else{r.css("left",parseInt(r.css("left"))-34);o.css("left",parseInt(o.css("left"))-34);u.css("right","39px").width(u.width()-39)}i.children("span.k-ext-layout-title").css("display","none");i.css("height",o.height());if(i.find("div.k-ext-vertical-layout-title").length==0){i.append(e.format("<div style='position: absolute; top: 40px;' class='k-window-title k-ext-layout-title k-ext-vertical-layout-title'>{0}</div>",n._vertTitle))}}}else{if(r.height()<32){r.css("height","32px");if(n._options.region=="north"){o.css("top","32px");u.css("top","39px").height(u.height()-32)}else{r.css("top",parseInt(r.css("top"))-34);o.css("top",parseInt(o.css("top"))-34);u.css("bottom","39px").height(u.height()-32)}}}s.removeClass("k-ext-expanded").addClass("k-ext-collapsed")}else{i.height(18);s.removeClass("k-ext-collapsed").addClass("k-ext-expanded");s.closest(".k-window-titlebar").children(".k-window-title").css("display","");i.find(".k-ext-vertical-layout-title").remove()}}};var r=e.ui.Splitter.extend({_height:null,init:function(r,i){var s=this;e.ui.Splitter.fn.init.call(s,r,i);s.element.data("kendoSplitter",s);t.each(s._panes(),function(e,r){var i=t(r).data("pane");if(i.collapsible||i.showTitlebar){var o=new n(s,r,i);o.init();t(r).data("titlebar",o)}});setInterval(function(){s.updateCollapsedPanes()},50)},_triggerAction:function(){this.toggle(arguments[1],arguments[0]=="expand");arguments[1].data("titlebar").toggle(arguments[0])},updateCollapsedPanes:function(e){var n=this;var r=n._panes();t.each(r,function(n,r){var i=t(r).data("titlebar");if(i&&(e==undefined||i.element[0]!=e.target)){if(i._options.collapsed){i.update()}}})},resize:function(){var e=this;var n=e.element.parent();var r=n.height();if(e._height!=r){e._height=r;var i=parseInt(n.css("margin-top"));var s=parseInt(n.css("margin-bottom"));var o=parseInt(n.css("padding-top"));var u=parseInt(n.css("padding-bottom"));var a=parseInt(e.element.css("border-top-width"));var f=parseInt(e.element.css("border-bottom-width"));var l=(isNaN(i)?0:i)+(isNaN(s)?0:s)+(isNaN(o)?0:o)+(isNaN(u)?0:u)+(isNaN(a)?0:a)+(isNaN(f)?0:f);e.element.height(e._height-l).resize();if(e.options.orientation=="vertical"){var c=e.element.children("div.k-pane, div.k-splitbar");t.each(c,function(e,n){t(n).css("width","100%")})}}},options:{name:"ExtLayoutSplitter"}});e.ui.plugin(r);var i=e.ui.Widget.extend({_outerSplitter:null,_innerSplitter:null,init:function(n,r){var i=this;e.ui.Widget.fn.init.call(i,n,r);var s=[];var o=[];if(!r.items){throw"The items array must be defined"}var u=e.arrays.find(r.items,{attr:"region",value:"north"});var a=e.arrays.find(r.items,{attr:"region",value:"south"});var f=e.arrays.find(r.items,{attr:"region",value:"east"});var l=e.arrays.find(r.items,{attr:"region",value:"west"});var c=e.arrays.find(r.items,{attr:"region",value:"center"});if(c==null){throw"A center item must be defined"}if(u==null&&a==null&&f==null&&l==null){throw"A region of north, south, east or west must be defined"}var h=t(n);if(u!=null||a!=null){if(u!=null)o.push(u);if(f==null&&l==null){o.push(c)}else{var p=e.format("{0}_innerSplitterContents",n.id);h.append(t(e.format("<div id='{0}'/>",p)).attr("class","k-ext-inner-splitter-contents"));o.push({content:e.format("#{0}",p)})}if(a!=null)o.push(a)}if(l!=null)s.push(l);if(f!=null||l!=null)s.push(c);if(f!=null)s.push(f);var d=t(e.format("<div id='{0}_outerSplitter'/>",n.id));h.append(d);if(o.length>0){t.each(o,function(e,n){d.append(t(n.content))});var v=t(e.format("#{0}_innerSplitterContents",n.id));t.each(s,function(e,n){v.append(t(n.content))});i._outerSplitter=d.kendoExtLayoutSplitter({orientation:"vertical",panes:o}).data("kendoExtLayoutSplitter");i._innerSplitter=v.kendoExtLayoutSplitter({panes:s}).data("kendoExtLayoutSplitter")}else{t.each(s,function(e,n){d.append(t(n.content))});i._outerSplitter=d.kendoExtLayoutSplitter({panes:s}).data("kendoExtLayoutSplitter")}if(i._outerSplitter!=null){setTimeout(function(){i.resize()},100)}},resize:function(){var e=this;var n=e.element.parent();var r=parseInt(e.options.height);if(isNaN(r)){if(n[0]==document.body){r=t(window).height()}else{r=n.height()}}if(e._height!=r){e._height=r;var i=parseInt(n.css("margin-top"));var s=parseInt(n.css("margin-bottom"));var o=parseInt(n.css("padding-top"));var u=parseInt(n.css("padding-bottom"));var a=parseInt(e.element.css("border-top-width"));var f=parseInt(e.element.css("border-bottom-width"));var l=(isNaN(i)?0:i)+(isNaN(s)?0:s)+(isNaN(o)?0:o)+(isNaN(u)?0:u)+(isNaN(a)?0:a)+(isNaN(f)?0:f);e.element.height(e._height-l).resize();e._outerSplitter.resize();if(e._innerSplitter!=null){e._innerSplitter.resize()}}if(e.options.height=="fill"){setTimeout(function(){e.resize()},100)}},setTitle:function(n,r){var i=e.arrays.find(this.options.items,{attr:"region",value:n});if(i!=null){var s=t(i.content);var o=s.data("titlebar");o.vertTitleName(r);s.find(".k-ext-layout-title").text(r)}},options:{name:"ExtBorderLayout",height:"fill"}});e.ui.plugin(i);var s=e.ui.Window.extend({_buttonTemplate:e.template('<div class="k-ext-dialog-buttons" style="position:absolute; bottom:10px; text-align:center; width:#= parseInt(width) - 14 #px;"><div style="display:inline-block"># $.each (buttons, function (idx, button) { # <button class="k-button" style="margin-right:5px; width:100px;">#= button.name #</button> # }) # </div></div>'),_contentTemplate:e.template('<div class="k-ext-dialog-content" style="height:#= parseInt(height) - 55 #px;; width:#= parseInt(width) - 14 #px;overflow:auto;">'),init:function(n,r){var i=this;r.visible=r.visible||false;e.ui.Window.fn.init.call(i,n,r);t(n).data("kendoWindow",i);var s=t(n).html();t(n).html(i._contentTemplate(r));t(n).find("div.k-ext-dialog-content").append(s);t(n).after(i._buttonTemplate(r));t.each(r.buttons,function(e,r){if(r.click){t(t(n).parent().find(".k-ext-dialog-buttons .k-button")[e]).on("click",{handler:r.click},function(e){e.data.handler({button:this,dialog:i})})}});i.bind("resize",function(e){i.resizeDialog()})},resizeDialog:function(){var e=this;var n=t(e.element);var r=n.width();var i=n.height();n.parent().find(".k-ext-dialog-buttons").width(r);n.parent().find(".k-ext-dialog-content").width(r).height(i-39)},options:{name:"ExtDialog"}});e.ui.plugin(s);e.ui.ExtAlertDialog={show:function(n){return new t.Deferred(function(r){var i=null;if(t("#extAlertDialog").length>0){t("#extAlertDialog").parent().remove()}n=t.extend({width:"300px",height:"100px",buttons:[{name:"OK",click:function(e){i.close();r.resolve({button:"OK"})}}],modal:true,visible:false,message:"",icon:"k-ext-information"},n);t(document.body).append(e.format("<div id='extAlertDialog' style='position:relative;'><div style='position:absolute;left:10px;top:10px;' class='{0}'></div><div style='display:inline-block;margin-left:45px;'>{1}</div></div>",n.icon,n.message));i=t("#extAlertDialog").kendoExtDialog(n).data("kendoExtDialog");t("#extAlertDialog").parent().find("div.k-window-titlebar div.k-window-actions").empty();i.center().open()})},hide:function(){t("#extAlertDialog").data("kendoExtDialog").close()}};e.ui.ExtOkCancelDialog={show:function(n){return new t.Deferred(function(r){if(t("#extOkCancelDialog").length>0){t("#extOkCancelDialog").parent().remove()}n=t.extend({width:"300px",height:"100px",buttons:[{name:"OK",click:function(e){t("#extOkCancelDialog").data("kendoExtDialog").close();r.resolve({button:"OK"})}},{name:"Cancel",click:function(e){t("#extOkCancelDialog").data("kendoExtDialog").close();r.resolve({button:"Cancel"})}}],modal:true,visible:false,message:"",icon:"k-ext-information"},n);t(document.body).append(e.format("<div id='extOkCancelDialog' style='position:relative;'><div style='position:absolute;left:10px;top:10px;' class='{0}'></div><div style='display:inline-block;margin-left:45px;'>{1}</div></div>",n.icon,n.message));t("#extOkCancelDialog").kendoExtDialog(n);t("#extOkCancelDialog").parent().find("div.k-window-titlebar div.k-window-actions").empty();t("#extOkCancelDialog").data("kendoExtDialog").center().open()})}};e.ui.ExtYesNoDialog={show:function(n){return new t.Deferred(function(r){if(t("#extYesNoDialog").length>0){t("#extYesNoDialog").parent().remove()}n=t.extend({width:"300px",height:"100px",buttons:[{name:"Yes",click:function(e){t("#extYesNoDialog").data("kendoExtDialog").close();r.resolve({button:"Yes"})}},{name:"No",click:function(e){t("#extYesNoDialog").data("kendoExtDialog").close();r.resolve({button:"No"})}}],modal:true,visible:false,message:"",icon:"k-ext-information"},n);t(document.body).append(e.format("<div id='extYesNoDialog' style='position:relative;'><div style='position:absolute;left:10px;top:10px;' class='{0}'></div><div style='display:inline-block;margin-left:45px;'>{1}</div></div>",n.icon,n.message));t("#extYesNoDialog").kendoExtDialog(n);t("#extYesNoDialog").parent().find("div.k-window-titlebar div.k-window-actions").empty();t("#extYesNoDialog").data("kendoExtDialog").center().open()})},hide:function(){t("#extYesNoDialog").data("kendoExtDialog").close()}};e.ui.ExtInputDialog={show:function(n){return new t.Deferred(function(r){var i=null;if(t("#extInputDialog").length>0){t("#extInputDialog").parent().remove()}n=t.extend({width:"300px",height:"100px",buttons:[{name:"OK",click:function(e){var n=t("#extInputDialog .k-ext-input-dialog-input");if(i.options.required&&n.val().length==0){n.addClass(i.options.requiredCss)}else{i.close();r.resolve({button:"OK",input:n.val()})}}},{name:"Cancel",click:function(e){i.close();r.resolve({button:"Cancel"})}}],modal:true,visible:false,message:"",required:false,requiredCss:"k-ext-required"},n);t(document.body).append(e.format("<div id='extInputDialog' style='position:relative;'><div style='display:block;margin-left:10px;right-margin:10px;'>{0}</div><div style='display:block;margin-left:10px;margin-right:15px;'><input type='text' class='k-ext-input-dialog-input' style='width:100%;'</input></div></div>",n.message));i=t("#extInputDialog").kendoExtDialog(n).data("kendoExtDialog");t("#extInputDialog").parent().find("div.k-window-titlebar div.k-window-actions").empty();i.center().open()})},hide:function(){t("#extInputDialog").data("kendoExtDialog").close()}};e.ui.ExtWaitDialog={show:function(n){return new t.Deferred(function(r){if(t("#extWaitDialog").length>0){t("#extWaitDialog").parent().remove()}n=t.extend({width:"300px",height:"100px",modal:true,visible:false,message:""},n);t(document.body).append(e.format("<div id='extWaitDialog' style='position:relative;'><div style='position:absolute;left:10px;top:10px;' class='k-ext-wait'></div><div style='display:inline-block;margin-left:45px;'>{0}</div></div>",n.message));t("#extWaitDialog").kendoWindow(n);t("#extWaitDialog").parent().find("div.k-window-titlebar div.k-window-actions").empty();t("#extWaitDialog").data("kendoWindow").center().open();return r.resolve()})},hide:function(){t("#extWaitDialog").data("kendoWindow").close()}};var o=e.ui.Widget.extend({_uid:null,_grid:null,_dropdown:null,init:function(n,r){var i=this;e.ui.Widget.fn.init.call(i,n,r);i._uid=(new Date).getTime();t(n).append(e.format("<div id='extGrid{0}' class='k-ext-grid' style='{1};z-index:1;'/>",i._uid,r.gridWidth?e.format("width:{0}",r.gridWidth):""));t(n).append(e.format("<input id='extDropDown{0}' class='k-ext-dropdown'/>",i._uid));i._grid=t(e.format("#extGrid{0}",i._uid)).kendoGrid(r.grid).data("kendoGrid");i._grid.bind("change",function(e){setTimeout(function(){var n=t(i._grid.element).find("tr.k-state-selected");if(n.length>0&&n.hasClass("k-grid-edit-row")===false){var r=i._grid.dataItem(n);s.find("span.k-input").text(r[i.options.dataTextField]);t(i._grid.element).slideToggle("fast",function(){t(i._grid.element).removeClass("k-custom-visible")});i.trigger("change",e)}})});i._dropdown=t(e.format("#extDropDown{0}",i._uid)).kendoDropDownList({dataSource:[{text:"",value:""}],dataTextField:"text",dataValueField:"value",open:function(e){e.preventDefault();if(!t(i._grid.element).hasClass("k-custom-visible")){t(i._grid.element).css({top:s.position().top+s.height(),left:s.position().left});t(i._grid.element).slideToggle("fast",function(){i._dropdown.close();t(i._grid.element).addClass("k-custom-visible")})}}}).data("kendoDropDownList");if(r.dropDownWidth){i._dropdown._focused.width(r.dropDownWidth)}var s=t(i._dropdown.element).closest("span.k-dropdown");t(i._grid.element).hide().css({border:"1px solid grey",position:"absolute"});t(document).click(function(n){if(t(n.target).closest(e.format("#extGrid{0}",i._uid)).length==0&&t(n.target).closest("form.k-filter-menu").length==0&&(t(n.target).hasClass("k-link")&&t(n.target).data("page")>0)==false){if(t(i._grid.element).hasClass("k-custom-visible")){t(i._grid.element).slideToggle("fast",function(){t(i._grid.element).removeClass("k-custom-visible")})}}})},dropDownList:function(){return this._dropdown},grid:function(){return this._grid},options:{name:"ExtDropDownGrid"}});e.ui.plugin(o);var u=e.ui.Widget.extend({_uid:null,_treeview:null,_dropdown:null,init:function(n,r){var i=this;e.ui.Widget.fn.init.call(i,n,r);i._uid=(new Date).getTime();t(n).append(e.format("<input id='extDropDown{0}' class='k-ext-dropdown'/>",i._uid));t(n).append(e.format("<div id='extTreeView{0}' class='k-ext-treeview' style='z-index:1;'/>",i._uid));i._dropdown=t(e.format("#extDropDown{0}",i._uid)).kendoDropDownList({dataSource:[{text:"",value:""}],dataTextField:"text",dataValueField:"value",open:function(e){e.preventDefault();if(!o.hasClass("k-custom-visible")){o.css({top:s.position().top+s.height(),left:s.position().left});o.slideToggle("fast",function(){i._dropdown.close();o.addClass("k-custom-visible")})}}}).data("kendoDropDownList");if(r.dropDownWidth){i._dropdown._inputWrapper.width(r.dropDownWidth)}var s=t(i._dropdown.element).closest("span.k-dropdown");i._treeview=t(e.format("#extTreeView{0}",i._uid)).kendoTreeView(r.treeview).data("kendoTreeView");i._treeview.bind("select",function(e){s.find("span.k-input").text(t(e.node).children("div").text());o.slideToggle("fast",function(){o.removeClass("k-custom-visible");i.trigger("select",e)})});var o=t(i._treeview.element).closest("div.k-treeview");o.width(s.width()).css({border:"1px solid grey",display:"none",position:"absolute","background-color":i._dropdown.list.css("background-color")});t(document).click(function(e){if(t(e.target).closest("div.k-treeview").length==0){if(o.hasClass("k-custom-visible")){o.slideToggle("fast",function(){o.removeClass("k-custom-visible")})}}})},dropDownList:function(){return this._dropdown},treeview:function(){return this._treeview},options:{name:"ExtDropDownTreeView"}});e.ui.plugin(u);var a=e.ui.Editor.extend({init:function(n,r){var i=this;e.ui.Editor.fn.init.call(i,n,r);t(n).data("kendoEditor",i)},options:{name:"ExtEditor"}});e.ui.plugin(a);var f=e.ui.Widget.extend({init:function(n,r){var i=this;var s=t(n);e.ui.Widget.fn.init.call(i,n,r);s.before(e.format('<div class="k-input k-textbox k-ext-textbox {0}" {1}></div>',i.options.textboxClass,i.options.width?e.format("style='width:{0};'",i.options.width):""));var o=s.prev();o.append(s);s.before(e.format("<span {0}>{1}</span>",i.options.placeholderClass?e.format("class='{0}'",i.options.placeholderClass):"",s.val().length==0?i.options.placeholder:""));s.on("blur",function(){if(i.options.placeholder){var e=t(this);if(e.val().length==0){e.prev("span").text(i.options.placeholder)}else{e.prev("span").text("")}}}).on("focus",function(){if(i.options.placeholder){t(this).prev("span").text("")}})},options:{name:"ExtTextBox"}});e.ui.plugin(f);var l=e.ui.Menu.extend({_itemTemplate:"<li># if (iconCss.length > 0) { #<span class=' #=iconCss # k-icon'></span># } # #= text #</li>",init:function(n,r){var i=this;t(n).appendTo("body").hide();r=t.extend(r,{orientation:"vertical"});if(r.items){var s=e.template(i._itemTemplate);t.each(r.items,function(e,r){var i="";if(r.separator){i="<li class='k-ext-menu-separator'><hr/><li>"}else{r=t.extend({iconCss:""},r);i=s(r)}t(n).append(i)})}e.ui.Menu.fn.init.call(i,n,r);t(i.element).find("li.k-ext-menu-separator span").removeClass("k-link");t(document).on("contextmenu",r.targets,function(e){e.preventDefault();i.trigger("beforeopen",e);i._currentTarget=e.currentTarget;i.show(e.pageX,e.pageY);return false});if(i.options.beforeOpen){i.bind("beforeopen",i.options.beforeOpen)}i.bind("select",i._select);t(i.element).css({width:i.options.width,position:"absolute"}).addClass("k-block").addClass("k-ext-contextmenu");t(document).click(function(e){if(t(e.target).closest(".k-ext-contextmenu").length==0){if(t(i.element).hasClass("k-custom-visible")){i.hide()}}})},show:function(e,n){var r=this;t(r.element).css({top:n,left:e});t(r.element).slideToggle("fast",function(){t(r.element).addClass("k-custom-visible")})},hide:function(){var e=this;t(e.element).slideToggle("fast",function(){t(e.element).removeClass("k-custom-visible")})},_select:function(e){if(this.options.itemSelect!=undefined){e.target=this._currentTarget;this.options.itemSelect.apply(this,[e])}this.hide()},options:{name:"ExtContextMenu",width:"100px"}});e.ui.plugin(l)})(window.kendo,window.kendo.jQuery)